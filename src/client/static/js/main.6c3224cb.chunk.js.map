{"version":3,"sources":["lib/graphql/globalTypes.ts","reportWebVitals.ts","lib/graphql/mutations/LogOut/index.ts","lib/utils/index.ts","sections/AppHeader/components/MenuItems/index.tsx","sections/AppHeader/index.tsx","sections/AppHeader/assets/tinyhouse-logo.png","lib/graphql/queries/AuthUrl/index.ts","lib/graphql/queries/User/index.ts","lib/graphql/queries/Listing/index.ts","lib/graphql/queries/Listings/index.ts","sections/Home/assets/toronto.jpg","sections/Home/assets/dubai.jpg","sections/Home/assets/los-angeles.jpg","sections/Home/assets/london.jpg","sections/Home/components/HomeHero/index.tsx","lib/components/AppHeaderSkeleton/index.tsx","lib/components/AppHeaderSkeleton/assets/tinyhouse-logo.png","lib/components/ErrorBanner/index.tsx","lib/components/PageSkeleton/index.tsx","lib/components/ListingCard/index.tsx","sections/Home/components/HomeListings/index.tsx","sections/Home/components/HomeListingsSkeleton/index.tsx","sections/Home/assets/listing-loading-card-cover.jpg","sections/Home/assets/map-background.jpg","sections/Home/assets/san-fransisco.jpg","sections/Home/assets/cancun.jpg","sections/Home/index.tsx","lib/graphql/mutations/CreateBooking/index.ts","lib/graphql/mutations/ConnectStripe/index.ts","lib/graphql/mutations/DisconnectStripe/index.ts","lib/graphql/mutations/HostListing/index.ts","lib/graphql/mutations/LogIn/index.ts","sections/Host/index.tsx","sections/Listing/components/ListingBookings/index.tsx","sections/Listing/components/ListingCreateBooking/index.tsx","sections/Listing/components/ListingCreateBookingModal/index.tsx","sections/Listing/components/ListingDetails/index.tsx","sections/Listing/index.tsx","sections/Listings/components/ListingsFilters/index.tsx","sections/Listings/components/ListingsPagination/index.tsx","sections/Listings/components/ListingsSkeleton/index.tsx","sections/Listings/assets/listing-loading-card-cover.jpg","sections/Listings/index.tsx","sections/NotFound/index.tsx","sections/User/components/UserProfile/index.tsx","sections/User/components/UserListings/index.tsx","sections/User/components/UserBookings/index.tsx","sections/User/index.tsx","sections/Login/index.tsx","sections/Login/assets/google_logo.jpg","sections/Stripe/index.tsx","index.tsx"],"names":["ListingType","ListingsFilter","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","LOG_OUT","gql","iconColor","formatListingPrice","price","round","formattedListingPrice","Math","displaySuccessNotification","message","description","notification","placement","style","marginTop","displayErrorMessage","error","Item","Menu","SubMenu","MenuItems","viewer","setViewer","useMutation","onCompleted","data","logOut","sessionStorage","removeItem","onError","subMenuLogin","id","avatar","title","src","icon","UserOutlined","to","onClick","LoginOutlined","type","mode","HomeOutlined","Header","Layout","Search","Input","AppHeader","withRouter","location","history","useState","search","setSearch","useEffect","pathname","pathnameSubString","split","includes","length","className","alt","placeholder","enterButton","value","onChange","evt","target","onSearch","trimmedValue","trim","push","AUTH_URL","USER","LISTING","LISTINGS","Title","Typography","HomeHero","size","gutter","xs","md","cover","torontoImage","dubaiImage","losAngelesImage","londonImage","AppHeaderSkeleton","ErrorBanner","banner","closable","PageSkeleton","skeletonParagraph","active","loading","paragraph","rows","Text","ListingCard","listing","image","address","numOfGuests","hoverable","backgroundImage","level","strong","ellipsis","color","marginRight","HomeListings","listings","grid","sm","lg","dataSource","renderItem","HomeListingsSkeleton","Content","Paragraph","Home","useQuery","variables","filter","PRICE_HIGH_TO_LOW","limit","page","mapBackground","result","sanFransiscoImage","cancunImage","CREATE_BOOKING","CONNECT_STRIPE","DISCONNECT_STRIPE","HOST_LISTING","LOG_IN","Form","Host","imageLoading","setImageLoading","imageBase64Value","setImageBase64Value","hostListing","hasWallet","layout","onSubmitCapture","preventDefault","onFinish","values","console","log","fullAddress","city","state","postalCode","input","label","name","rules","required","Group","Button","APARTMENT","BankOutlined","HOUSE","min","extra","maxLength","TextArea","listType","showUploadList","action","beforeUpload","beforeImageUpload","info","file","status","originFileObj","getBase64Value","LoadingOutlined","PlusOutlined","htmlType","fileIsValidImage","fileIsValidSize","img","callback","reader","FileReader","readAsDataURL","onload","ListingBookings","listingBookings","bookingsPage","setBookingsPage","total","listingBookingsList","undefined","locale","emptyText","pagination","current","defaultPageSize","hideOnSinglePage","showLessItems","listingBooking","bookingHistory","checkIn","checkOut","tenant","shape","ListingCreateBooking","host","bookingsIndex","checkInDate","checkOutDate","setCheckInDate","setCheckOutDate","setModalVisible","bookingsIndexJSON","JSON","parse","disabledDate","currentDate","isBefore","moment","endOf","year","month","day","date","Boolean","dateIsBooked","viewerIsHost","checkInInputDisabled","checkOutInputDisabled","buttonDisabled","buttonMessage","format","showToday","disabled","onOpenChange","dateValue","selectedCheckOutDate","dateCursor","add","verifyAndSetCheckOutDate","mark","WrappedListingCreateBookingModal","injectStripe","modalVisible","stripe","clearBookingData","handleListingRefetch","createBooking","daysBooked","diff","listingPrice","handleCreateBooking","a","createToken","stripeToken","token","source","visible","centered","footer","onCancel","KeyOutlined","hidePostalCode","ListingDetails","EnvironmentOutlined","expandable","Listing","match","params","refetch","bookings","listingDetailsElement","listingBookingsElement","listingCreateBooking","listingCreateBookingModalElement","justify","Option","Select","ListingsFilters","setFilter","PRICE_LOW_TO_HIGH","ListingsPagination","setPage","ListingsSkeleton","Listings","locationRef","useRef","skip","listingsRegion","region","listingsSectionElement","offsetTop","listingsRegionElement","NotFound","stripeAuthUrl","process","UserProfile","user","viewerIsUser","handleUserRefetch","disconnectStripe","additionalSection","income","window","href","rel","additionalDetailsSection","contact","UserListings","userListings","listingsPage","setListingsPage","userListingsList","position","userListing","UserBookings","userBookings","userBookingsList","userBooking","User","stripeErrorBanner","URL","searchParams","get","userProfileElement","userListingsElement","userBookingsElement","Login","client","useApolloClient","logIn","setItem","logInData","logInLoading","logInError","logInRef","code","handleAuthorize","query","authUrl","tip","viewerId","logInErrorBannerElement","role","aria-label","Stripe","connectStripe","connectStripeRef","replace","ApolloClient","uri","request","operation","getItem","setContext","headers","initialViewer","didRequest","App","apiKey","exact","path","component","render","props","document","getElementById"],"mappings":"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","file":"static/js/main.6c3224cb.chunk.js","sourcesContent":["/* tslint:disable */\n/* eslint-disable */\n// @generated\n// This file was automatically generated and should not be edited.\n\n//==============================================================\n// START Enums and Input Objects\n//==============================================================\n\nexport enum ListingType {\n  APARTMENT = \"APARTMENT\",\n  HOUSE = \"HOUSE\",\n}\n\nexport enum ListingsFilter {\n  PRICE_HIGH_TO_LOW = \"PRICE_HIGH_TO_LOW\",\n  PRICE_LOW_TO_HIGH = \"PRICE_LOW_TO_HIGH\",\n}\n\nexport interface ConnectStripeInput {\n  code: string;\n}\n\nexport interface CreateBookingInput {\n  id: string;\n  source: string;\n  checkIn: string;\n  checkOut: string;\n}\n\nexport interface HostListingInput {\n  title: string;\n  description: string;\n  image: string;\n  type: ListingType;\n  address: string;\n  price: number;\n  numOfGuests: number;\n}\n\nexport interface LogInInput {\n  code: string;\n}\n\n//==============================================================\n// END Enums and Input Objects\n//==============================================================\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { gql } from \"apollo-boost\";\r\n\r\n\r\nexport const LOG_OUT = gql`\r\n    mutation LogOut {\r\n        logOut{\r\n            id\r\n            token\r\n            avatar\r\n            hasWallet\r\n            didRequest\r\n        }\r\n    }\r\n\r\n`;","import { message, notification } from 'antd'\r\n\r\n\r\nexport const iconColor = '#1890ff';\r\nexport const formatListingPrice = (price: number, round = true) => {\r\n    const formattedListingPrice = round ? Math.round(price / 100) : price / 100\r\n    return `$${formattedListingPrice}`\r\n}\r\n\r\n\r\nexport const displaySuccessNotification = (message: string, description?: string) => {\r\n    return notification[\"success\"]({\r\n        message,\r\n        description,\r\n        placement: \"topLeft\",\r\n        style: {\r\n            marginTop: 50\r\n        }\r\n    })\r\n}\r\n\r\n\r\nexport const displayErrorMessage = (error: string) => {\r\n    return message.error(error)\r\n}","import React from 'react';\r\nimport { Menu, Button, Avatar } from 'antd';\r\nimport { useMutation } from '@apollo/react-hooks';\r\nimport { HomeOutlined } from '@ant-design/icons';\r\nimport { Link } from 'react-router-dom';\r\nimport { LOG_OUT } from '../../../../lib/graphql/mutations/LogOut';\r\nimport { LogOut as LogOutData } from '../../../../lib/graphql/mutations/LogOut/__generated__/LogOut';\r\nimport { UserOutlined, LoginOutlined } from '@ant-design/icons';\r\nimport { Viewer } from '../../../../lib/types';\r\nimport {\r\n  displayErrorMessage,\r\n  displaySuccessNotification,\r\n} from '../../../../lib/utils';\r\n\r\ninterface Props {\r\n  viewer: Viewer;\r\n  setViewer: (viewer: Viewer) => void;\r\n}\r\n\r\nconst { Item, SubMenu } = Menu;\r\n\r\nexport const MenuItems = ({ viewer, setViewer }: Props) => {\r\n  const [logOut] = useMutation<LogOutData>(LOG_OUT, {\r\n    onCompleted: (data) => {\r\n      if (data && data.logOut) {\r\n        setViewer(data.logOut);\r\n        sessionStorage.removeItem('token');\r\n        displaySuccessNotification(\"You've successfully logged out!\");\r\n      }\r\n    },\r\n    onError: () => {\r\n      displayErrorMessage(\r\n        \"Sorry! we were'nt able to log you out. Please try again later!\",\r\n      );\r\n    },\r\n  });\r\n  const handleLogOut = () => {\r\n    logOut();\r\n  };\r\n  const subMenuLogin =\r\n    viewer.id && viewer.avatar ? (\r\n      <SubMenu key='SubMenu' title={<Avatar src={viewer.avatar} />}>\r\n        <Menu.Item key='/profile' icon={<UserOutlined />}>\r\n          <Link to={`/user/${viewer.id}`}>Profile</Link>\r\n        </Menu.Item>\r\n        <Menu.Item key='/logout'>\r\n          <div onClick={handleLogOut}>\r\n            <LoginOutlined />\r\n            Log out\r\n          </div>\r\n        </Menu.Item>\r\n      </SubMenu>\r\n    ) : (\r\n      <Item>\r\n        <Link to='/login'>\r\n          <Button type='primary'>Sign In</Button>\r\n        </Link>\r\n      </Item>\r\n    );\r\n  return (\r\n    <Menu mode='horizontal'>\r\n      <Menu.Item key='mail' icon={<HomeOutlined />}>\r\n        <Link to='/host'>Host</Link>\r\n      </Menu.Item>\r\n      {subMenuLogin}\r\n    </Menu>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Input, Layout } from 'antd';\r\nimport { Link, withRouter, RouteComponentProps } from 'react-router-dom';\r\nimport { MenuItems } from './components';\r\nimport { Viewer } from '../../lib/types';\r\n\r\nimport logo from './assets/tinyhouse-logo.png';\r\nimport { displayErrorMessage } from '../../lib/utils';\r\n\r\ninterface Props {\r\n  viewer: Viewer;\r\n  setViewer: (viewer: Viewer) => void;\r\n}\r\n\r\nconst { Header } = Layout;\r\nconst { Search } = Input;\r\n\r\nexport const AppHeader = withRouter(\r\n  ({ viewer, setViewer, location, history }: Props & RouteComponentProps) => {\r\n    const [search, setSearch] = useState('');\r\n\r\n    useEffect(() => {\r\n      const { pathname } = location;\r\n      const pathnameSubString = pathname.split('/');\r\n\r\n      if (!pathname.includes('/listings')) {\r\n        setSearch('');\r\n        return;\r\n      }\r\n      if (pathname.includes('/listings') && pathnameSubString.length === 3) {\r\n        setSearch(pathnameSubString[2]);\r\n        return;\r\n      }\r\n    }, [location]);\r\n    const onSearch = (value: string) => {\r\n      const trimmedValue = value.trim();\r\n      if (trimmedValue) {\r\n        history.push(`/listings/${trimmedValue}`);\r\n      } else {\r\n        displayErrorMessage('Please enter a valid search');\r\n      }\r\n    };\r\n    return (\r\n      <Header className='app-header'>\r\n        <div className='app-header__logo-search-section'>\r\n          <div className='app-header__logo'>\r\n            <Link to='/'>\r\n              <img src={logo} alt='App logo' />\r\n            </Link>\r\n          </div>\r\n          <div className='app-header__search-input'>\r\n            <Search\r\n              placeholder=\"Search 'San Fransisco'\"\r\n              enterButton\r\n              value={search}\r\n              onChange={(evt) => setSearch(evt.target.value)}\r\n              onSearch={onSearch}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className='app-header__menu-section'>\r\n          <MenuItems viewer={viewer} setViewer={setViewer} />\r\n        </div>\r\n      </Header>\r\n    );\r\n  },\r\n);\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAABICAYAAACp+JiNAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKtSURBVHgB7ZvPcdNAFMa/ZTjkhm/JLaYDUgFJBeAKCBUgVUCowKICSAemAlyCO8hySgwXc0ouZPn22WLEv4xs7W5g5vvNOJpV5Iz10763Ty+yO2hCQDrmV5U7QWb4mS+4GSMN/gEEJAGSYEgCJMGQBEiCIQmQBEMSIAmGJEASDEmAJBiSAEkwJAGSYEgCJMGQBEiCIQmQBOMh0jI+mIZTZIb/Mhs5pCO5BDi8Q2ZSCogoHCAJhiRAEgxJgCQYkgBJMCQBkmBIAiTBkARIgnGfEuZsDLz8FnAUtxx73BOp+wm9cAH1Ze2azq4FmzFz5zBlw+Q5ClN+JvCq/yLAuKqdv+bv2DCZoTDFJPAKr/jjhCf7/m/HrGq3uqzchDPlLQpSSoK/XQuY9zmYM6WisDcoRAkJPs6AL7VbbPMmCjsrJSKrBMb3YhMCHjsQRXAGTSyUMpJPQsD59QABLZ9rN4uhhIxLaBYJgYmNJ38aEx0SYKGUUUR6CYzjZUxsibEZlUlEUgmxCLKEloko4oYVZoi5JiFJJGxqgD8WQamJIbas3FHKWiJF2RxrgEmfJXA0DaM9btrxDc8pnhRL5nH3uD7JNNYSfN+KS9BrDGToTNiqBqCAhh/6on1xvM4dDh+7+3lyx33+Xgw9JuEaAxkiwSPBEjgUJuHG7kQHJMydJbj1MujxDxBn4u2AGbFzTggOr/abcEgZXzu7/V03SDGBus4V61SCHlsQn4HYPKMwYvgccteY4yfYEaevCcMXbarYUywOT9sxp/CHWBbvT0PDhsqjHwey4CoZaqU7S8d8vWgHTEifuJlRwDP8fGXPUbDdpkYrJMEoGg6sEKu9gLPO2FaHeNfpOpUkCneei0rY3Fr/dnu9LHDPcRcKB0iCIQmQBEMSEFeHgMf431j3GpPxHWSq7xBvwxLFAAAAAElFTkSuQmCC\"","import { gql } from 'apollo-boost'\r\n\r\nexport const AUTH_URL = gql`\r\n    query AuthUrl {\r\n        authUrl\r\n    }\r\n`","import { gql } from 'apollo-boost'\r\n\r\nexport const USER = gql`\r\n    query User($id:ID!,$bookingsPage:Int!, $listingsPage:Int!, $limit:Int!){\r\n        user(id:$id) {\r\n            id\r\n            name\r\n            avatar\r\n            contact\r\n            hasWallet\r\n            income\r\n            bookings(limit: $limit, page:$bookingsPage) {\r\n                total\r\n                result {\r\n                    id\r\n                    listing {\r\n                        id\r\n                        title\r\n                        image\r\n                        address\r\n                        price\r\n                        numOfGuests\r\n                    }\r\n                    checkIn\r\n                    checkOut\r\n                }\r\n            }\r\n            listings(limit: $limit, page: $listingsPage) {\r\n                total\r\n                result {\r\n                    id\r\n                    title\r\n                    image\r\n                    address\r\n                    price\r\n                    numOfGuests\r\n                }\r\n            }\r\n        }\r\n    }\r\n`","import { gql } from 'apollo-boost'\r\n\r\n\r\nexport const LISTING = gql`\r\n    query Listing($id: ID!, $bookingsPage:Int!, $limit: Int!) {\r\n        listing(id: $id){\r\n            id\r\n            title\r\n            image\r\n            description\r\n            host {\r\n                id\r\n                name\r\n                avatar\r\n                hasWallet\r\n            }\r\n            type\r\n            address\r\n            city\r\n            bookings(limit:$limit,page:$bookingsPage) {\r\n                total\r\n                result {\r\n                    id\r\n                    tenant {\r\n                        id\r\n                        name\r\n                        avatar\r\n                    }\r\n                    checkIn\r\n                checkOut\r\n                }\r\n                \r\n            }\r\n            bookingsIndex\r\n            price\r\n            numOfGuests\r\n        }\r\n\r\n    }\r\n`","import { gql } from 'apollo-boost'\r\n\r\n\r\nexport const LISTINGS = gql`\r\n    query Listings($location:String,$filter: ListingsFilter!, $limit: Int!, $page:Int!) {\r\n        listings(location:$location,filter: $filter, limit:$limit, page: $page) {\r\n            region\r\n            total\r\n            result {\r\n                id\r\n                title\r\n                image\r\n                address\r\n                price\r\n                numOfGuests\r\n            }\r\n        }\r\n    }\r\n\r\n`","export default __webpack_public_path__ + \"static/media/toronto.5c221cf7.jpg\";","export default __webpack_public_path__ + \"static/media/dubai.a6c56bca.jpg\";","export default __webpack_public_path__ + \"static/media/los-angeles.44220702.jpg\";","export default __webpack_public_path__ + \"static/media/london.16fb9b9d.jpg\";","import React from 'react';\r\nimport { Card, Col, Input, Row, Typography } from 'antd';\r\n\r\nimport torontoImage from '../../assets/toronto.jpg';\r\nimport dubaiImage from '../../assets/dubai.jpg';\r\nimport losAngelesImage from '../../assets/los-angeles.jpg';\r\nimport londonImage from '../../assets/london.jpg';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst { Title } = Typography;\r\nconst { Search } = Input;\r\n\r\ninterface Props {\r\n  onSearch: (value: string) => void;\r\n}\r\n\r\nexport const HomeHero = ({ onSearch }: Props) => {\r\n  return (\r\n    <div className='home-hero'>\r\n      <div className='home-hero__search'>\r\n        <Title className='home-hero__title'>\r\n          Find a place you'll love to stay at\r\n        </Title>\r\n        <Search\r\n          placeholder=\"Search 'San Francisco'\"\r\n          size='large'\r\n          enterButton\r\n          onSearch={onSearch}\r\n          className='home-hero__search-input'\r\n        />\r\n      </div>\r\n      <Row gutter={12} className='home-hero__cards'>\r\n        <Col xs={12} md={6}>\r\n          <Link to='/listings/toronto'>\r\n            <Card cover={<img alt='Toronto' src={torontoImage} />}>\r\n              Toronto\r\n            </Card>\r\n          </Link>\r\n        </Col>\r\n        <Col xs={12} md={6}>\r\n          <Link to='/listings/dubai'>\r\n            <Card cover={<img alt='Dubai' src={dubaiImage} />}>Dubai</Card>\r\n          </Link>\r\n        </Col>\r\n        <Col xs={0} md={6}>\r\n          <Link to='listings/los%20angeles'>\r\n            <Card cover={<img alt='Los Angeles' src={losAngelesImage} />}>\r\n              Los Angeles\r\n            </Card>\r\n          </Link>\r\n        </Col>\r\n        <Col xs={0} md={6}>\r\n          <Link to='listings/london'>\r\n            <Card cover={<img alt='London' src={londonImage} />}>London</Card>\r\n          </Link>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Layout } from 'antd';\r\n\r\nimport logo from './assets/tinyhouse-logo.png';\r\nconst { Header } = Layout;\r\n\r\nexport const AppHeaderSkeleton = () => {\r\n  return (\r\n    <Header className='app-header'>\r\n      <div className='app-header__logo-search-section'>\r\n        <div className='app-header__logo'>\r\n          <img src={logo} alt='App logo' />\r\n        </div>\r\n      </div>\r\n    </Header>\r\n  );\r\n};\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAABICAYAAACp+JiNAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKtSURBVHgB7ZvPcdNAFMa/ZTjkhm/JLaYDUgFJBeAKCBUgVUCowKICSAemAlyCO8hySgwXc0ouZPn22WLEv4xs7W5g5vvNOJpV5Iz10763Ty+yO2hCQDrmV5U7QWb4mS+4GSMN/gEEJAGSYEgCJMGQBEiCIQmQBEMSIAmGJEASDEmAJBiSAEkwJAGSYEgCJMGQBEiCIQmQBOMh0jI+mIZTZIb/Mhs5pCO5BDi8Q2ZSCogoHCAJhiRAEgxJgCQYkgBJMCQBkmBIAiTBkARIgnGfEuZsDLz8FnAUtxx73BOp+wm9cAH1Ze2azq4FmzFz5zBlw+Q5ClN+JvCq/yLAuKqdv+bv2DCZoTDFJPAKr/jjhCf7/m/HrGq3uqzchDPlLQpSSoK/XQuY9zmYM6WisDcoRAkJPs6AL7VbbPMmCjsrJSKrBMb3YhMCHjsQRXAGTSyUMpJPQsD59QABLZ9rN4uhhIxLaBYJgYmNJ38aEx0SYKGUUUR6CYzjZUxsibEZlUlEUgmxCLKEloko4oYVZoi5JiFJJGxqgD8WQamJIbas3FHKWiJF2RxrgEmfJXA0DaM9btrxDc8pnhRL5nH3uD7JNNYSfN+KS9BrDGToTNiqBqCAhh/6on1xvM4dDh+7+3lyx33+Xgw9JuEaAxkiwSPBEjgUJuHG7kQHJMydJbj1MujxDxBn4u2AGbFzTggOr/abcEgZXzu7/V03SDGBus4V61SCHlsQn4HYPKMwYvgccteY4yfYEaevCcMXbarYUywOT9sxp/CHWBbvT0PDhsqjHwey4CoZaqU7S8d8vWgHTEifuJlRwDP8fGXPUbDdpkYrJMEoGg6sEKu9gLPO2FaHeNfpOpUkCneei0rY3Fr/dnu9LHDPcRcKB0iCIQmQBEMSEFeHgMf431j3GpPxHWSq7xBvwxLFAAAAAElFTkSuQmCC\"","import React from 'react';\r\nimport { Alert } from 'antd';\r\n\r\ninterface Props {\r\n  message?: string;\r\n  description?: string;\r\n}\r\n\r\nexport const ErrorBanner = ({\r\n  message = 'Uh oh! Something went wrong :(',\r\n  description = 'Looks like something went wrong. Please check your connection and/or try again later.',\r\n}: Props) => {\r\n  return (\r\n    <Alert\r\n      banner\r\n      closable\r\n      message={message}\r\n      description={description}\r\n      type='error'\r\n      className='error-banner'\r\n    />\r\n  );\r\n};\r\n","import React, { Fragment } from 'react';\r\nimport { Skeleton } from 'antd';\r\n\r\nexport const PageSkeleton = () => {\r\n  const skeletonParagraph = (\r\n    <Skeleton\r\n      active\r\n      loading\r\n      paragraph={{ rows: 4 }}\r\n      className='page-skeleton__paragraph'\r\n    />\r\n  );\r\n\r\n  return (\r\n    <Fragment>\r\n      {skeletonParagraph}\r\n      {skeletonParagraph}\r\n      {skeletonParagraph}\r\n    </Fragment>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Card, Typography } from 'antd';\r\nimport { iconColor, formatListingPrice } from '../../utils';\r\nimport { UserOutlined } from '@ant-design/icons';\r\n\r\ninterface Props {\r\n  listing: {\r\n    id: string;\r\n    title: string;\r\n    image: string;\r\n    address: string;\r\n    price: number;\r\n    numOfGuests: number;\r\n  };\r\n}\r\n\r\nconst { Text, Title } = Typography;\r\n\r\nexport const ListingCard = ({ listing }: Props) => {\r\n  const { id, title, image, address, price, numOfGuests } = listing;\r\n\r\n  return (\r\n    <Link to={`/listing/${id}`}>\r\n      <Card\r\n        hoverable\r\n        cover={\r\n          <div\r\n            style={{ backgroundImage: `url(${image})` }}\r\n            className='listing-card__cover-img'\r\n          />\r\n        }\r\n      >\r\n        <div className='listing-card__details'>\r\n          <div className='listing-card__description'>\r\n            <Title level={4} className='listing-card__price'>\r\n              {formatListingPrice(price, true)}\r\n              <span>/day</span>\r\n            </Title>\r\n            <Text strong ellipsis={true} className='listing-card__title'>\r\n              {title}\r\n            </Text>\r\n            <Text ellipsis={true} className='listing-card__address'>\r\n              {address}\r\n            </Text>\r\n          </div>\r\n          <div className='listing-card__dimensions listing-card__dimensions--guests'>\r\n            <UserOutlined style={{ color: iconColor, marginRight: '5px' }} />\r\n            <Text>{numOfGuests} guests</Text>\r\n          </div>\r\n        </div>\r\n      </Card>\r\n    </Link>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { List, Typography } from 'antd';\r\nimport { ListingCard } from '../../../../lib/components';\r\nimport { Listings } from '../../../../lib/graphql/queries/Listings/__generated__/Listings';\r\n\r\ninterface Props {\r\n  title: string;\r\n  listings: Listings['listings']['result'];\r\n}\r\n\r\nconst { Title } = Typography;\r\n\r\nexport const HomeListings = ({ title, listings }: Props) => {\r\n  return (\r\n    <div className='home-listings'>\r\n      <Title level={4} className='home-listings__title'>\r\n        {title}\r\n      </Title>\r\n      <List\r\n        grid={{\r\n          gutter: 8,\r\n          xs: 1,\r\n          sm: 2,\r\n          lg: 4,\r\n        }}\r\n        dataSource={listings}\r\n        renderItem={(listing) => (\r\n          <List.Item>\r\n            <ListingCard listing={listing} />\r\n          </List.Item>\r\n        )}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Card, List, Skeleton } from 'antd';\r\n\r\nimport listingLoadingCardCover from '../../assets/listing-loading-card-cover.jpg';\r\n\r\nexport const HomeListingsSkeleton = () => {\r\n  const emptyData = [{}, {}, {}, {}];\r\n\r\n  return (\r\n    <div className='home-listings-skeleton'>\r\n      <Skeleton paragraph={{ rows: 0 }} />\r\n      <List\r\n        grid={{\r\n          gutter: 8,\r\n          xs: 1,\r\n          sm: 2,\r\n          lg: 4,\r\n        }}\r\n        dataSource={emptyData}\r\n        renderItem={() => (\r\n          <List.Item>\r\n            <Card\r\n              cover={\r\n                <div\r\n                  style={{ backgroundImage: `url(${listingLoadingCardCover})` }}\r\n                  className='home-listings-skeleton__card-cover-img'\r\n                ></div>\r\n              }\r\n              loading\r\n            />\r\n          </List.Item>\r\n        )}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","export default \"data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAoEAAAGsCAYAAACiiX3NAAABYWlDQ1BrQ0dDb2xvclNwYWNlRGlzcGxheVAzAAAokWNgYFJJLCjIYWFgYMjNKykKcndSiIiMUmB/yMAOhLwMYgwKicnFBY4BAT5AJQwwGhV8u8bACKIv64LMOiU1tUm1XsDXYqbw1YuvRJsw1aMArpTU4mQg/QeIU5MLikoYGBhTgGzl8pICELsDyBYpAjoKyJ4DYqdD2BtA7CQI+whYTUiQM5B9A8hWSM5IBJrB+API1klCEk9HYkPtBQFul8zigpzESoUAYwKuJQOUpFaUgGjn/ILKosz0jBIFR2AopSp45iXr6SgYGRiaMzCAwhyi+nMgOCwZxc4gxJrvMzDY7v////9uhJjXfgaGjUCdXDsRYhoWDAyC3AwMJ3YWJBYlgoWYgZgpLY2B4dNyBgbeSAYG4QtAPdHFacZGYHlGHicGBtZ7//9/VmNgYJ/MwPB3wv//vxf9//93MVDzHQaGA3kAFSFl7jXH0fsAAAFZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA1LjQuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CkzCJ1kAABcgSURBVHgB7daxDYAwEARBm9yI/qtEUIARdex8BzuX/BiOAAECBAgQIEAgJzD/4vt5d65cMAECBAgQIEAgKnCdax7RdtkECBAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAAECBAgQIECAAAECBFoCH+giB1TBDI5HAAAAAElFTkSuQmCC\"","export default __webpack_public_path__ + \"static/media/map-background.c8201cdd.jpg\";","export default __webpack_public_path__ + \"static/media/san-fransisco.bc8599ab.jpg\";","export default __webpack_public_path__ + \"static/media/cancun.7009e472.jpg\";","import React from 'react';\r\nimport { Link, RouteComponentProps } from 'react-router-dom';\r\nimport { useQuery } from '@apollo/react-hooks';\r\nimport { Col, Row, Layout, Typography } from 'antd';\r\nimport { LISTINGS } from '../../lib/graphql/queries';\r\nimport {\r\n  Listings as ListingsData,\r\n  ListingsVariables,\r\n} from '../../lib/graphql/queries/Listings/__generated__/Listings';\r\nimport { ListingsFilter } from '../../lib/graphql/globalTypes';\r\nimport { displayErrorMessage } from '../../lib/utils';\r\nimport { HomeHero, HomeListings, HomeListingsSkeleton } from './components';\r\n\r\nimport mapBackground from './assets/map-background.jpg';\r\nimport sanFransiscoImage from './assets/san-fransisco.jpg';\r\nimport cancunImage from './assets/cancun.jpg';\r\n\r\nconst { Content } = Layout;\r\nconst { Paragraph, Title } = Typography;\r\n\r\nconst PAGE_LIMIT = 4;\r\nconst PAGE_NUMBER = 1;\r\n\r\nexport const Home = ({ history }: RouteComponentProps) => {\r\n  const { loading, data } = useQuery<ListingsData, ListingsVariables>(\r\n    LISTINGS,\r\n    {\r\n      variables: {\r\n        filter: ListingsFilter.PRICE_HIGH_TO_LOW,\r\n        limit: PAGE_LIMIT,\r\n        page: PAGE_NUMBER,\r\n      },\r\n    },\r\n  );\r\n\r\n  const onSearch = (value: string) => {\r\n    const trimmedValue = value.trim();\r\n\r\n    if (trimmedValue) {\r\n      history.push(`/listings/${trimmedValue}`);\r\n    } else {\r\n      displayErrorMessage('Please enter a valid search!');\r\n    }\r\n  };\r\n\r\n  const renderListingsSection = () => {\r\n    if (loading) {\r\n      return <HomeListingsSkeleton />;\r\n    }\r\n\r\n    if (data) {\r\n      return (\r\n        <HomeListings\r\n          title='Premium Listings'\r\n          listings={data.listings.result}\r\n        />\r\n      );\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  return (\r\n    <Content\r\n      className='home'\r\n      style={{ backgroundImage: `url(${mapBackground})` }}\r\n    >\r\n      <HomeHero onSearch={onSearch} />\r\n\r\n      <div className='home__cta-section'>\r\n        <Title level={2} className='home__cta-section-title'>\r\n          Your guide for all things rental\r\n        </Title>\r\n        <Paragraph>\r\n          Helping you make the best decisions in renting your last minute\r\n          locations.\r\n        </Paragraph>\r\n        <Link\r\n          to='/listings/united%20states'\r\n          className='ant-btn ant-btn-primary ant-btn-lg home__cta-section-button'\r\n        >\r\n          Popular listings in the United States\r\n        </Link>\r\n      </div>\r\n\r\n      {renderListingsSection()}\r\n\r\n      <div className='home__listings'>\r\n        <Title level={4} className='home__listings-title'>\r\n          Listings of any kind\r\n        </Title>\r\n        <Row gutter={12}>\r\n          <Col xs={24} sm={12}>\r\n            <Link to='/listings/san%20fransisco'>\r\n              <div className='home__listings-img-cover'>\r\n                <img\r\n                  src={sanFransiscoImage}\r\n                  alt='San Fransisco'\r\n                  className='home__listings-img'\r\n                />\r\n              </div>\r\n            </Link>\r\n          </Col>\r\n          <Col xs={24} sm={12}>\r\n            <Link to='/listings/cancn'>\r\n              <div className='home__listings-img-cover'>\r\n                <img\r\n                  src={cancunImage}\r\n                  alt='Cancn'\r\n                  className='home__listings-img'\r\n                />\r\n              </div>\r\n            </Link>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    </Content>\r\n  );\r\n};\r\n","import { gql } from \"apollo-boost\";\r\n\r\n\r\nexport const CREATE_BOOKING = gql`\r\n    mutation CreateBooking($input: CreateBookingInput!) {\r\n        createBooking(input: $input) {\r\n            id\r\n            \r\n        }\r\n    }\r\n\r\n`","import { gql } from 'apollo-boost';\r\n\r\nexport const CONNECT_STRIPE = gql`\r\n  mutation ConnectStripe($input: ConnectStripeInput!) {\r\n    connectStripe(input: $input) {\r\n      hasWallet\r\n    }\r\n  }\r\n`;\r\n","import { gql } from 'apollo-boost';\r\n\r\nexport const DISCONNECT_STRIPE = gql`\r\n  mutation DisconnectStripe {\r\n    disconnectStripe {\r\n      hasWallet\r\n    }\r\n  }\r\n`;\r\n","import { gql } from 'apollo-boost'\r\n\r\n\r\nexport const HOST_LISTING = gql`\r\n    mutation HostListing($input: HostListingInput!){\r\n    hostListing(input: $input) {\r\n        id\r\n    }\r\n    }\r\n\r\n`","import { gql } from \"apollo-boost\";\r\n\r\n\r\nexport const LOG_IN = gql`\r\n    mutation LogIn($input: LogInInput) {\r\n        logIn(input:$input) {\r\n            id\r\n            token\r\n            avatar\r\n            hasWallet\r\n            didRequest\r\n        }\r\n    }\r\n\r\n`;","import React, { FormEvent, useState } from 'react';\r\nimport { useMutation } from '@apollo/react-hooks';\r\nimport {\r\n  Button,\r\n  Form,\r\n  Input,\r\n  InputNumber,\r\n  Radio,\r\n  Layout,\r\n  Typography,\r\n  Upload,\r\n} from 'antd';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport {\r\n  HomeOutlined,\r\n  BankOutlined,\r\n  LoadingOutlined,\r\n  PlusOutlined,\r\n} from '@ant-design/icons';\r\nimport { HOST_LISTING } from '../../lib/graphql/mutations';\r\nimport {\r\n  HostListing as HostListingData,\r\n  HostListingVariables,\r\n} from '../../lib/graphql/mutations/HostListing/__generated__/HostListing';\r\nimport { Viewer } from '../../lib/types';\r\nimport { ListingType } from '../../lib/graphql/globalTypes';\r\nimport {\r\n  iconColor,\r\n  displayErrorMessage,\r\n  displaySuccessNotification,\r\n} from '../../lib/utils';\r\nimport { UploadChangeParam } from 'antd/lib/upload';\r\n\r\nconst { Content } = Layout;\r\nconst { Text, Title } = Typography;\r\nconst { Item } = Form;\r\n\r\ninterface Props {\r\n  viewer: Viewer;\r\n}\r\n\r\nexport const Host = ({ viewer }: Props) => {\r\n  const [imageLoading, setImageLoading] = useState(false);\r\n  const [imageBase64Value, setImageBase64Value] = useState<string | null>(null);\r\n\r\n  const [hostListing, { loading, data }] = useMutation<\r\n    HostListingData,\r\n    HostListingVariables\r\n  >(HOST_LISTING, {\r\n    onCompleted: () => {\r\n      displaySuccessNotification('Listing created successfully!');\r\n    },\r\n    onError: () => {\r\n      displayErrorMessage('Unable to create listing. Please try again');\r\n    },\r\n  });\r\n\r\n  const handleImageUpload = (info: UploadChangeParam) => {\r\n    const { file } = info;\r\n\r\n    if (file.status === 'uploading') {\r\n      setImageLoading(true);\r\n      return;\r\n    }\r\n    if (file.status === 'done' && file.originFileObj) {\r\n      getBase64Value(file.originFileObj, (imageBase64Value) => {\r\n        setImageBase64Value(imageBase64Value);\r\n        setImageLoading(false);\r\n      });\r\n    }\r\n  };\r\n  const handleHostListing = (evt: FormEvent) => {\r\n    evt.preventDefault();\r\n  };\r\n  const onFinish = (values: any) => {\r\n    console.log('values', values);\r\n    const fullAddress = `${values.address}, ${values.city}, ${values.state}, ${values.postalCode} `;\r\n    const input = {\r\n      ...values,\r\n      address: fullAddress,\r\n      image: imageBase64Value,\r\n      price: values.price * 100,\r\n    };\r\n\r\n    delete input.city;\r\n    delete input.state;\r\n    delete input.postalCode;\r\n    hostListing({\r\n      variables: {\r\n        input,\r\n      },\r\n    });\r\n  };\r\n  if (!viewer.id || !viewer.hasWallet) {\r\n    return (\r\n      <Content className='host-content'>\r\n        <div className='host__form-header'>\r\n          <Title level={4} className='host__form-title'>\r\n            You'll have to be signed in and connected with Stripe to Host a\r\n            listing!\r\n          </Title>\r\n          <Text type='secondary'>\r\n            We only allow users who've signed into our application and have\r\n            connected with Stripe to host new listings. You can sign in at the{' '}\r\n            <Link to='/login'>/login</Link> page and connect with Stripe shortly\r\n            after.\r\n          </Text>\r\n        </div>\r\n      </Content>\r\n    );\r\n  }\r\n  if (loading) {\r\n    return (\r\n      <Content className='host-content'>\r\n        <div className='host__form-header'>\r\n          <Title level={4} className='host__form-title'>\r\n            Please Wait!\r\n          </Title>\r\n          <Text type='secondary'>We're creating your listing now.</Text>\r\n        </div>\r\n      </Content>\r\n    );\r\n  }\r\n  if (data && data.hostListing) {\r\n    return <Redirect to={`/listing/${data.hostListing.id}`} />;\r\n  }\r\n  return (\r\n    <Content className='host-content'>\r\n      <Form\r\n        layout='vertical'\r\n        onSubmitCapture={handleHostListing}\r\n        onFinish={onFinish}\r\n      >\r\n        <div className='host__form-header'>\r\n          <Title level={3} className='host__form-title'>\r\n            Hi! Let's get started listing your place.\r\n          </Title>\r\n          <Text type='secondary'>\r\n            In this form, we'll collect some basic and additional information\r\n            about your listing.\r\n          </Text>\r\n        </div>\r\n        <Item\r\n          label='Home Type'\r\n          name='type'\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: 'Please select a home type',\r\n            },\r\n          ]}\r\n        >\r\n          <Radio.Group>\r\n            <Radio.Button value={ListingType.APARTMENT}>\r\n              <BankOutlined style={{ color: iconColor, marginRight: '7px' }} />\r\n              <span>Apartment</span>\r\n            </Radio.Button>\r\n            <Radio.Button value={ListingType.HOUSE}>\r\n              <HomeOutlined style={{ color: iconColor, marginRight: '7px' }} />\r\n              <span>House</span>\r\n            </Radio.Button>\r\n          </Radio.Group>\r\n        </Item>\r\n        <Item\r\n          label='Max # of Guests'\r\n          name='numOfGuests'\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: 'Please indicate max # of guests for the listing',\r\n            },\r\n          ]}\r\n        >\r\n          <InputNumber min={1} placeholder='4' />\r\n        </Item>\r\n\r\n        <Item\r\n          label='Title'\r\n          extra='Max character count of 45'\r\n          name='title'\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: 'please enter a title for the listing',\r\n            },\r\n          ]}\r\n        >\r\n          <Input\r\n            maxLength={45}\r\n            placeholder='The iconic and luxurious Bel-Air mansion'\r\n          />\r\n        </Item>\r\n        <Item\r\n          label='Description of listing'\r\n          extra='Max character count of 400'\r\n          name='description'\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: 'please enter a description for the listing',\r\n            },\r\n          ]}\r\n        >\r\n          <Input.TextArea\r\n            rows={3}\r\n            maxLength={400}\r\n            placeholder='Modern, clean, and iconic home of Fresh Prince. Situated in the heart of Bel-Air Los Angeles'\r\n          />\r\n        </Item>\r\n        <Item\r\n          label='Address'\r\n          name='address'\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: 'please an address for the listing',\r\n            },\r\n          ]}\r\n        >\r\n          <Input placeholder='250 North Bristol Avenue' />\r\n        </Item>\r\n        <Item\r\n          label='City/Town'\r\n          name='city'\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: 'please enter a city (or region) for the listing',\r\n            },\r\n          ]}\r\n        >\r\n          <Input placeholder='Los Angeles' />\r\n        </Item>\r\n        <Item\r\n          label='State/Province'\r\n          name='state'\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: 'please enter a state (or province) for the listing',\r\n            },\r\n          ]}\r\n        >\r\n          <Input placeholder='California' />\r\n        </Item>\r\n        <Item\r\n          label='Zip/Postal Code'\r\n          name='postalCode'\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: 'please enter a postal code for the listing',\r\n            },\r\n          ]}\r\n        >\r\n          <Input placeholder='Please enter a zip code for your listing!' />\r\n        </Item>\r\n        <Item\r\n          label='Image'\r\n          extra='Images have to be under 1MB in size and of type JPG or PNG'\r\n          name='image'\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: 'please provide an image for the listing',\r\n            },\r\n          ]}\r\n        >\r\n          <div className='host__form-image-upload'>\r\n            <Upload\r\n              name='image'\r\n              listType='picture-card'\r\n              showUploadList={false}\r\n              action='https://www.mocky.io/v2/5cc8019d300000980a055e76'\r\n              beforeUpload={beforeImageUpload}\r\n              onChange={handleImageUpload}\r\n            >\r\n              {imageBase64Value ? (\r\n                <img src={imageBase64Value} alt='listing' />\r\n              ) : (\r\n                <div>\r\n                  {imageLoading ? <LoadingOutlined /> : <PlusOutlined />}\r\n                  <div className='ant-upload-text'>Upload</div>\r\n                </div>\r\n              )}\r\n            </Upload>\r\n          </div>\r\n        </Item>\r\n        <Item\r\n          label='Price'\r\n          extra='All prices in $USD/day'\r\n          name='price'\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: 'please select a price for the listing',\r\n            },\r\n          ]}\r\n        >\r\n          <InputNumber min={0} placeholder='120' />\r\n        </Item>\r\n        <Button type='primary' htmlType='submit'>\r\n          Submit\r\n        </Button>\r\n      </Form>\r\n    </Content>\r\n  );\r\n};\r\n\r\nconst beforeImageUpload = (file: File) => {\r\n  const fileIsValidImage =\r\n    file.type === 'image/jpeg' || file.type === 'image/png';\r\n  const fileIsValidSize = file.size / 1024 / 1024 < 1;\r\n\r\n  if (!fileIsValidImage) {\r\n    displayErrorMessage(\"You're only able to upload valid JPG or PNG files!\");\r\n    return false;\r\n  }\r\n  if (!fileIsValidSize) {\r\n    displayErrorMessage(\r\n      \"You're only able to upload image files of under 1MB in size!\",\r\n    );\r\n    return false;\r\n  }\r\n\r\n  return fileIsValidImage && fileIsValidSize;\r\n};\r\n\r\nconst getBase64Value = (\r\n  img: File | Blob,\r\n  callback: (imageBase64Value: string) => void,\r\n) => {\r\n  const reader = new FileReader();\r\n  reader.readAsDataURL(img);\r\n  reader.onload = () => {\r\n    callback(reader.result as string);\r\n  };\r\n};\r\n","//\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Listing } from '../../../../lib/graphql/queries/Listing/__generated__/Listing';\r\nimport { Avatar, Divider, List, Typography } from 'antd';\r\n\r\ninterface Props {\r\n  listingBookings: Listing['listing']['bookings'];\r\n  bookingsPage: number;\r\n  limit: number;\r\n  setBookingsPage: (page: number) => void;\r\n}\r\n\r\nconst { Text, Title } = Typography;\r\n\r\nexport const ListingBookings = ({\r\n  listingBookings,\r\n  bookingsPage,\r\n  limit,\r\n  setBookingsPage,\r\n}: Props) => {\r\n  const total = listingBookings ? listingBookings.total : null;\r\n  const result = listingBookings ? listingBookings.result : null;\r\n\r\n  // element only shown if total and result values exist\r\n  const listingBookingsList = listingBookings ? (\r\n    <List\r\n      grid={{\r\n        gutter: 8,\r\n        xs: 1,\r\n        sm: 2,\r\n        lg: 3,\r\n      }}\r\n      dataSource={result ? result : undefined}\r\n      locale={{ emptyText: 'no bookings have been made yet' }}\r\n      pagination={{\r\n        current: bookingsPage,\r\n        total: total ? total : undefined,\r\n        defaultPageSize: limit,\r\n        hideOnSinglePage: true,\r\n        showLessItems: true,\r\n        onChange: (page: number) => setBookingsPage(page),\r\n      }}\r\n      renderItem={(listingBooking) => {\r\n        const bookingHistory = (\r\n          <div className='listing-bookings__history'>\r\n            <div>\r\n              Check in: <Text strong>{listingBooking.checkIn}</Text>\r\n            </div>\r\n            <div>\r\n              Check out: <Text strong>{listingBooking.checkOut}</Text>\r\n            </div>\r\n          </div>\r\n        );\r\n        return (\r\n          <List.Item className='listing-bookings__item'>\r\n            {bookingHistory}\r\n            <Link to={`/user/${listingBooking.tenant.id}`}>\r\n              <Avatar\r\n                src={listingBooking.tenant.avatar}\r\n                size={64}\r\n                shape='square'\r\n              />\r\n            </Link>\r\n          </List.Item>\r\n        );\r\n      }}\r\n    />\r\n  ) : null;\r\n\r\n  const listingBookingsElement = listingBookingsList ? (\r\n    <div className='listing-bookings'>\r\n      <Divider />\r\n      <div className='listing-bookings__section'>\r\n        <Title level={4}>Bookings</Title>\r\n      </div>\r\n      {listingBookingsList}\r\n    </div>\r\n  ) : null;\r\n\r\n  return listingBookingsElement;\r\n};\r\n","import React from 'react';\r\nimport { Button, Card, DatePicker, Divider, Typography } from 'antd';\r\nimport moment, { Moment } from 'moment';\r\nimport { displayErrorMessage, formatListingPrice } from '../../../../lib/utils';\r\nimport { Listing as ListingData } from '../../../../lib/graphql/queries/Listing/__generated__/Listing';\r\nimport { Viewer } from '../../../../lib/types';\r\nimport { BookingsIndex } from './types';\r\n\r\nconst { Title, Text, Paragraph } = Typography;\r\n\r\ninterface Props {\r\n  viewer: Viewer;\r\n  host: ListingData['listing']['host'];\r\n  bookingsIndex: ListingData['listing']['bookingsIndex'];\r\n  price: number;\r\n  checkInDate: Moment | null;\r\n  checkOutDate: Moment | null;\r\n  setCheckInDate: (checkInDate: Moment | null) => void;\r\n  setCheckOutDate: (checkOutDate: Moment | null) => void;\r\n  setModalVisible: (modalVisible: boolean) => void;\r\n}\r\nexport const ListingCreateBooking = ({\r\n  viewer,\r\n  host,\r\n  bookingsIndex,\r\n  price,\r\n  checkInDate,\r\n  checkOutDate,\r\n  setCheckInDate,\r\n  setCheckOutDate,\r\n  setModalVisible,\r\n}: Props) => {\r\n  const bookingsIndexJSON: BookingsIndex = JSON.parse(bookingsIndex);\r\n  const dateIsBooked = (currentDate: Moment) => {\r\n    const year = moment(currentDate).year();\r\n    const month = moment(currentDate).month();\r\n    const day = moment(currentDate).date();\r\n\r\n    if (bookingsIndexJSON[year] && bookingsIndexJSON[year][month]) {\r\n      return Boolean(bookingsIndexJSON[year][month][day]);\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n  const disabledDate = (currentDate?: Moment) => {\r\n    if (currentDate) {\r\n      const dateIsBeforeEndOfDay = currentDate.isBefore(moment().endOf('day'));\r\n\r\n      return dateIsBeforeEndOfDay || dateIsBooked(currentDate);\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n  const verifyAndSetCheckOutDate = (selectedCheckOutDate: Moment | null) => {\r\n    if (checkInDate && selectedCheckOutDate) {\r\n      if (moment(selectedCheckOutDate).isBefore(checkInDate, 'days')) {\r\n        return displayErrorMessage(\r\n          `You can't book date of check out to be prior to check in!`,\r\n        );\r\n      }\r\n\r\n      let dateCursor = checkInDate;\r\n\r\n      while (moment(dateCursor).isBefore(selectedCheckOutDate, 'days')) {\r\n        dateCursor = moment(dateCursor).add(1, 'days');\r\n\r\n        const year = moment(dateCursor).year();\r\n        const month = moment(dateCursor).month();\r\n        const day = moment(dateCursor).date();\r\n\r\n        if (\r\n          bookingsIndexJSON[year] &&\r\n          bookingsIndexJSON[year][month] &&\r\n          bookingsIndexJSON[year][month][day]\r\n        ) {\r\n          return displayErrorMessage(\r\n            \"You can't book a period of time that overlaps existing bookings. Please try again!\",\r\n          );\r\n        }\r\n      }\r\n    }\r\n    setCheckOutDate(selectedCheckOutDate);\r\n  };\r\n\r\n  const viewerIsHost = viewer.id === host.id;\r\n  const checkInInputDisabled = !viewer.id || viewerIsHost || !host.hasWallet;\r\n  const checkOutInputDisabled = checkInInputDisabled || !checkInDate;\r\n  const buttonDisabled = checkInInputDisabled || !checkInDate || !checkOutDate;\r\n\r\n  let buttonMessage = \"You won't be charged yet\";\r\n  if (!viewer.id) {\r\n    buttonMessage = 'You have to be signed in to book a listing!';\r\n  } else if (viewerIsHost) {\r\n    buttonMessage = \"You can't book your own listing!\";\r\n  } else if (!host.hasWallet) {\r\n    buttonMessage =\r\n      \"The host has disconnected from Stripe and thus won't be able to receive payments!\";\r\n  }\r\n  return (\r\n    <div className='listing-booking'>\r\n      <Card className='listing-booking__card'>\r\n        <div>\r\n          <Paragraph>\r\n            <Title level={2} className='listing-booking__card-title'>\r\n              {formatListingPrice(price, true)}\r\n              <span>/day</span>\r\n            </Title>\r\n          </Paragraph>\r\n          <Divider />\r\n          <div className='listing-booking__card-date-picker'>\r\n            <Paragraph strong>Check In</Paragraph>\r\n            <DatePicker\r\n              value={checkInDate ? checkInDate : undefined}\r\n              format={'YYYY/MM/DD'}\r\n              showToday={false}\r\n              disabled={checkInInputDisabled}\r\n              disabledDate={disabledDate}\r\n              onOpenChange={() => setCheckOutDate(null)}\r\n              onChange={(dateValue) => setCheckInDate(dateValue)}\r\n            />\r\n          </div>\r\n          <div className='listing-booking__card-date-picker'>\r\n            <Paragraph strong>Check Out</Paragraph>\r\n            <DatePicker\r\n              value={checkOutDate ? checkOutDate : undefined}\r\n              format={'YYYY/MM/DD'}\r\n              showToday={false}\r\n              disabledDate={disabledDate}\r\n              disabled={checkOutInputDisabled}\r\n              onChange={(dateValue) => verifyAndSetCheckOutDate(dateValue)}\r\n            />\r\n          </div>\r\n        </div>\r\n        <Divider />\r\n        <Button\r\n          disabled={buttonDisabled}\r\n          size='large'\r\n          type='primary'\r\n          className='listing-booking__card-cta'\r\n          onClick={() => setModalVisible(true)}\r\n        >\r\n          Request to Book!\r\n        </Button>\r\n        <Text type='secondary' mark>\r\n          {buttonMessage}\r\n        </Text>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { useMutation } from '@apollo/react-hooks';\r\nimport { Button, Divider, Typography, Modal } from 'antd';\r\nimport {\r\n  CardElement,\r\n  injectStripe,\r\n  ReactStripeElements,\r\n} from 'react-stripe-elements';\r\nimport { KeyOutlined } from '@ant-design/icons';\r\nimport { Moment } from 'moment';\r\nimport moment from 'moment';\r\nimport {\r\n  formatListingPrice,\r\n  displayErrorMessage,\r\n  displaySuccessNotification,\r\n} from '../../../../lib/utils';\r\nimport { CREATE_BOOKING } from '../../../../lib/graphql/mutations/CreateBooking';\r\nimport {\r\n  CreateBooking as CreateBookingData,\r\n  CreateBookingVariables,\r\n} from '../../../../lib/graphql/mutations/CreateBooking/__generated__/CreateBooking';\r\nimport { Listing } from '../../../../lib/graphql/queries/Listing/__generated__/Listing';\r\n\r\nconst { Paragraph, Text, Title } = Typography;\r\n\r\ninterface Props {\r\n  id: Listing['listing']['id'];\r\n  price: number;\r\n  modalVisible: boolean;\r\n  checkInDate: Moment;\r\n  checkOutDate: Moment;\r\n  setModalVisible: (modalVisible: boolean) => void;\r\n  clearBookingData: () => void;\r\n  handleListingRefetch: () => Promise<void>;\r\n}\r\n\r\nexport const ListingCreateBookingModal = ({\r\n  id,\r\n  price,\r\n  modalVisible,\r\n  checkInDate,\r\n  checkOutDate,\r\n  setModalVisible,\r\n  stripe,\r\n  clearBookingData,\r\n  handleListingRefetch,\r\n}: Props & ReactStripeElements.InjectedStripeProps) => {\r\n  const [createBooking, { loading }] = useMutation<\r\n    CreateBookingData,\r\n    CreateBookingVariables\r\n  >(CREATE_BOOKING, {\r\n    onCompleted: () => {\r\n      clearBookingData();\r\n      displaySuccessNotification(\r\n        \"You've successfully booked the listing.\",\r\n        'Booking history can always be found in your User page.',\r\n      );\r\n      handleListingRefetch();\r\n    },\r\n    onError: () => {\r\n      displayErrorMessage(\r\n        \"Sorry! We were'nt able to successfully book the listing. Please try again later!\",\r\n      );\r\n    },\r\n  });\r\n  const daysBooked = checkOutDate.diff(checkInDate, 'days') + 1;\r\n  const listingPrice = price * daysBooked;\r\n  //   const tinyHouseFee = 0.05 * listingPrice;\r\n  //   const totalprice = listingPrice + tinyHouseFee;\r\n  const handleCreateBooking = async () => {\r\n    if (!stripe) {\r\n      return displayErrorMessage(\r\n        \"Sorry! We Were'nt able to connect with Stripe!\",\r\n      );\r\n    }\r\n    let { token: stripeToken, error } = await stripe.createToken();\r\n    if (stripeToken) {\r\n      createBooking({\r\n        variables: {\r\n          input: {\r\n            id,\r\n            source: stripeToken.id,\r\n            checkIn: moment(checkInDate).format('YYYY-MM-DD'),\r\n            checkOut: moment(checkOutDate).format('YYYY-MM-DD'),\r\n          },\r\n        },\r\n      });\r\n    } else {\r\n      displayErrorMessage(\r\n        error && error.message\r\n          ? error.message\r\n          : \"Sorry! We were'nt able to book the listing. Please try again later!\",\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      visible={modalVisible}\r\n      centered\r\n      footer={null}\r\n      onCancel={() => setModalVisible(false)}\r\n    >\r\n      <div className='listing-booking-modal'>\r\n        <div className='listing-booking-modal__intro'>\r\n          <Title className='listing-booking-modal__intro-title'>\r\n            <KeyOutlined />\r\n          </Title>\r\n          <Title level={3} className='listing-booking-modal__intro-title'>\r\n            Book your Trip\r\n          </Title>\r\n          <Paragraph>\r\n            Enter your payment information to book the listing from the dates\r\n            between{' '}\r\n            <Text strong mark>\r\n              {' '}\r\n              {moment(checkInDate).format('MMMM Do YYYY')}\r\n            </Text>{' '}\r\n            and{' '}\r\n            <Text strong mark>\r\n              {' '}\r\n              {moment(checkOutDate).format('MMMM Do YYYY')}\r\n            </Text>\r\n            , inclusive.\r\n          </Paragraph>\r\n        </div>\r\n        <Divider />\r\n\r\n        <div className='listing-booking-modal__charge-summary'>\r\n          <Paragraph>\r\n            {formatListingPrice(price, false)} * {daysBooked} days =\r\n            <Text strong>{formatListingPrice(listingPrice, false)}</Text>\r\n          </Paragraph>\r\n          {/* <Paragraph>\r\n            TinyHouse Fee <sub>~ 5%</sub> ={' '}\r\n            <Text strong>{formatListingPrice(tinyHouseFee)}</Text>\r\n          </Paragraph> */}\r\n          <Paragraph className='listing-booking-modal__charge-summary-total'>\r\n            Total = <Text mark>{formatListingPrice(listingPrice, false)}</Text>\r\n          </Paragraph>\r\n        </div>\r\n\r\n        <Divider />\r\n\r\n        <div className='listing-booking-modal__stripe-card-section'>\r\n          <CardElement\r\n            hidePostalCode\r\n            className='listing-booking-modal__stripe-card'\r\n          />\r\n          <Button\r\n            type='primary'\r\n            size='large'\r\n            className='listing-booking-modal__cta'\r\n            onClick={handleCreateBooking}\r\n            loading={loading}\r\n          >\r\n            Book\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport const WrappedListingCreateBookingModal = injectStripe(\r\n  ListingCreateBookingModal,\r\n);\r\n","import React from 'react';\r\nimport { Avatar, Divider, Tag, Typography } from 'antd';\r\nimport { EnvironmentOutlined } from '@ant-design/icons';\r\nimport { Listing as ListingData } from '../../../../lib/graphql/queries/Listing/__generated__/Listing';\r\nimport { iconColor } from '../../../../lib/utils';\r\nimport { Link } from 'react-router-dom';\r\n\r\ninterface Props {\r\n  listing: ListingData['listing'];\r\n}\r\n\r\nconst { Paragraph, Title } = Typography;\r\n\r\nexport const ListingDetails = ({ listing }: Props) => {\r\n  const { title, description, image, type, address, city, numOfGuests, host } =\r\n    listing;\r\n\r\n  return (\r\n    <div className='listing-details'>\r\n      <div\r\n        style={{ backgroundImage: `url(${image})` }}\r\n        className='listing-details__image'\r\n      />\r\n      <div className='listing-details__information'>\r\n        <Paragraph\r\n          type='secondary'\r\n          ellipsis\r\n          className='listing-details__city-address'\r\n        >\r\n          <Link to={`/listings/${city}`}>\r\n            <EnvironmentOutlined style={{ color: iconColor }} /> {city}\r\n          </Link>\r\n          <Divider type='vertical' />\r\n          {address}\r\n        </Paragraph>\r\n        <Title level={3} className='listing-details__title'>\r\n          {title}\r\n        </Title>\r\n      </div>\r\n      <div className='listing-details__section'>\r\n        <Link to={`/user/${host.id}`}>\r\n          <Avatar src={host.avatar} size={64} />\r\n          <Title level={3} className='listing-details__host-name'>\r\n            {host.name}\r\n          </Title>\r\n        </Link>\r\n      </div>\r\n      <Divider />\r\n\r\n      <div className='listing-details__section'>\r\n        <Title level={4}>About this space</Title>\r\n        <div className='listing-details__about-items'>\r\n          <Tag color='magenta'>{type}</Tag>\r\n          <Tag color='magenta'>{numOfGuests} guests</Tag>\r\n        </div>\r\n        <Paragraph ellipsis={{ rows: 3, expandable: true }}>\r\n          {description}\r\n        </Paragraph>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState } from 'react';\r\nimport { RouteComponentProps } from 'react-router-dom';\r\nimport { Col, Row, Layout } from 'antd';\r\nimport { useQuery } from '@apollo/react-hooks';\r\nimport { Moment } from 'moment';\r\nimport { LISTING } from '../../lib/graphql/queries/Listing';\r\nimport {\r\n  ListingBookings,\r\n  ListingCreateBooking,\r\n  WrappedListingCreateBookingModal as ListingCreateBookingModal,\r\n  ListingDetails,\r\n} from './components';\r\nimport {\r\n  Listing as ListingData,\r\n  ListingVariables,\r\n} from '../../lib/graphql/queries/Listing/__generated__/Listing';\r\nimport { ErrorBanner, PageSkeleton } from '../../lib/components';\r\nimport { Viewer } from '../../lib/types';\r\n\r\ninterface MatchParams {\r\n  id: string;\r\n}\r\ninterface Props {\r\n  viewer: Viewer;\r\n}\r\nconst { Content } = Layout;\r\nconst PAGE_LIMIT = 3;\r\n\r\nexport const Listing = ({\r\n  viewer,\r\n  match,\r\n}: RouteComponentProps<MatchParams> & Props) => {\r\n  const [bookingsPage, setBookingsPage] = useState(1);\r\n  const [checkInDate, setCheckInDate] = useState<Moment | null>(null);\r\n  const [checkOutDate, setCheckOutDate] = useState<Moment | null>(null);\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n  const { data, loading, error, refetch } = useQuery<\r\n    ListingData,\r\n    ListingVariables\r\n  >(LISTING, {\r\n    variables: {\r\n      id: match.params.id,\r\n      bookingsPage,\r\n      limit: PAGE_LIMIT,\r\n    },\r\n  });\r\n\r\n  const clearBookingData = () => {\r\n    setModalVisible(false);\r\n    setCheckInDate(null);\r\n    setCheckOutDate(null);\r\n  };\r\n  const handleListingRefetch = async () => {\r\n    await refetch();\r\n  };\r\n  if (loading) {\r\n    return (\r\n      <Content className='listing'>\r\n        <PageSkeleton />\r\n      </Content>\r\n    );\r\n  }\r\n  if (error) {\r\n    return (\r\n      <Content className='listing'>\r\n        <ErrorBanner description=\"This listing may not exist or we've encontered an error. Please try again soon!\" />\r\n        <PageSkeleton />\r\n      </Content>\r\n    );\r\n  }\r\n\r\n  const listing = data ? data.listing : null;\r\n\r\n  const listingBookings = listing ? listing.bookings : null;\r\n\r\n  // const listingDetailsElement = listing ? <ListingDetails listing={listing} /> : null;\r\n\r\n  const listingDetailsElement = listing ? (\r\n    <ListingDetails listing={listing} />\r\n  ) : null;\r\n\r\n  // const listingBookings = {\r\n  //   total: 4,\r\n  //   result: [\r\n  //     {\r\n  //       id: '5daa530eefc64b001767247c',\r\n  //       tenant: {\r\n  //         id: '117422637055829818290',\r\n  //         name: 'User X',\r\n  //         avatar:\r\n  //           'https://lh3.googleusercontent.com/a-/AAuE7mBL9NpzsFA6mGSC8xIIJfeK4oTeOJpYvL-gAyaB=s100',\r\n  //         __typename: 'User',\r\n  //       },\r\n  //       checkIn: '2019-10-29',\r\n  //       checkOut: '2019-10-31',\r\n  //       __typename: 'Booking',\r\n  //     },\r\n  //     {\r\n  //       id: '5daa530eefc64b001767247d',\r\n  //       tenant: {\r\n  //         id: '117422637055829818290',\r\n  //         name: 'User X',\r\n  //         avatar:\r\n  //           'https://lh3.googleusercontent.com/a-/AAuE7mBL9NpzsFA6mGSC8xIIJfeK4oTeOJpYvL-gAyaB=s100',\r\n  //         __typename: 'User',\r\n  //       },\r\n  //       checkIn: '2019-11-01',\r\n  //       checkOut: '2019-11-03',\r\n  //       __typename: 'Booking',\r\n  //     },\r\n  //     {\r\n  //       id: '5daa530eefc64b001767247g',\r\n  //       tenant: {\r\n  //         id: '117422637055829818290',\r\n  //         name: 'User X',\r\n  //         avatar:\r\n  //           'https://lh3.googleusercontent.com/a-/AAuE7mBL9NpzsFA6mGSC8xIIJfeK4oTeOJpYvL-gAyaB=s100',\r\n  //         __typename: 'User',\r\n  //       },\r\n  //       checkIn: '2019-11-05',\r\n  //       checkOut: '2019-11-09',\r\n  //       __typename: 'Booking',\r\n  //     },\r\n  //     {\r\n  //       id: '5daa530eefc64b001767247f',\r\n  //       tenant: {\r\n  //         id: '117422637055829818290',\r\n  //         name: 'User X',\r\n  //         avatar:\r\n  //           'https://lh3.googleusercontent.com/a-/AAuE7mBL9NpzsFA6mGSC8xIIJfeK4oTeOJpYvL-gAyaB=s100',\r\n  //         __typename: 'User',\r\n  //       },\r\n  //       checkIn: '2019-11-10',\r\n  //       checkOut: '2019-11-11',\r\n  //       __typename: 'Booking',\r\n  //     },\r\n  //   ],\r\n  // } as any;\r\n  const listingBookingsElement = listingBookings ? (\r\n    <ListingBookings\r\n      listingBookings={listingBookings}\r\n      bookingsPage={bookingsPage}\r\n      limit={PAGE_LIMIT}\r\n      setBookingsPage={setBookingsPage}\r\n    />\r\n  ) : null;\r\n  const listingCreateBooking = listing ? (\r\n    <ListingCreateBooking\r\n      viewer={viewer}\r\n      host={listing.host}\r\n      bookingsIndex={listing.bookingsIndex}\r\n      price={listing.price}\r\n      checkInDate={checkInDate}\r\n      checkOutDate={checkOutDate}\r\n      setCheckInDate={setCheckInDate}\r\n      setCheckOutDate={setCheckOutDate}\r\n      setModalVisible={setModalVisible}\r\n    />\r\n  ) : null;\r\n\r\n  const listingCreateBookingModalElement =\r\n    listing && checkInDate && checkOutDate ? (\r\n      <ListingCreateBookingModal\r\n        id={listing.id}\r\n        price={listing?.price}\r\n        modalVisible={modalVisible}\r\n        checkInDate={checkInDate}\r\n        checkOutDate={checkOutDate}\r\n        setModalVisible={setModalVisible}\r\n        clearBookingData={clearBookingData}\r\n        handleListingRefetch={handleListingRefetch}\r\n      />\r\n    ) : null;\r\n  return (\r\n    <Content className='listing'>\r\n      <Row gutter={24} justify='space-between'>\r\n        <Col xs={24} lg={14}>\r\n          {listingDetailsElement}\r\n          {listingBookingsElement}\r\n        </Col>\r\n        <Col xs={24} lg={10}>\r\n          {listingCreateBooking}\r\n        </Col>\r\n      </Row>\r\n      {listingCreateBookingModalElement}\r\n    </Content>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Select } from 'antd';\r\nimport { ListingsFilter } from '../../../../lib/graphql/globalTypes';\r\n\r\ninterface Props {\r\n  filter: ListingsFilter;\r\n  setFilter: (filter: ListingsFilter) => void;\r\n}\r\n\r\nconst { Option } = Select;\r\n\r\nexport const ListingsFilters = ({ filter, setFilter }: Props) => {\r\n  return (\r\n    <div className='listings-filters'>\r\n      <span>Filter By</span>\r\n      <Select\r\n        value={filter}\r\n        onChange={(filter: ListingsFilter) => setFilter(filter)}\r\n      >\r\n        <Option value={ListingsFilter.PRICE_LOW_TO_HIGH}>\r\n          Price: Low to High\r\n        </Option>\r\n        <Option value={ListingsFilter.PRICE_HIGH_TO_LOW}>\r\n          Price: High to Low\r\n        </Option>\r\n      </Select>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Pagination } from 'antd';\r\n\r\ninterface Props {\r\n  total: number;\r\n  page: number;\r\n  limit: number;\r\n  setPage: (page: number) => void;\r\n}\r\n\r\nexport const ListingsPagination = ({ total, page, limit, setPage }: Props) => {\r\n  return (\r\n    <Pagination\r\n      current={page}\r\n      total={total}\r\n      defaultPageSize={limit}\r\n      hideOnSinglePage\r\n      showLessItems\r\n      onChange={(page: number) => setPage(page)}\r\n      className='listings-pagination'\r\n    />\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Card, List, Skeleton } from 'antd';\r\n\r\nimport listingLoadingCardCover from '../../assets/listing-loading-card-cover.jpg';\r\n\r\nexport const ListingsSkeleton = () => {\r\n  const emptyData = [{}, {}, {}, {}, {}, {}, {}, {}];\r\n\r\n  return (\r\n    <div>\r\n      <Skeleton paragraph={{ rows: 1 }} />\r\n      <List\r\n        grid={{\r\n          gutter: 8,\r\n          xs: 1,\r\n          sm: 2,\r\n          lg: 4,\r\n        }}\r\n        dataSource={emptyData}\r\n        renderItem={() => (\r\n          <List.Item>\r\n            <Card\r\n              cover={\r\n                <div\r\n                  style={{ backgroundImage: `url(${listingLoadingCardCover})` }}\r\n                  className='listings-skeleton__card-cover-img'\r\n                ></div>\r\n              }\r\n              loading\r\n              className='listings-skeleton__card'\r\n            />\r\n          </List.Item>\r\n        )}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","export default \"data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAoEAAAGsCAYAAACiiX3NAAABYWlDQ1BrQ0dDb2xvclNwYWNlRGlzcGxheVAzAAAokWNgYFJJLCjIYWFgYMjNKykKcndSiIiMUmB/yMAOhLwMYgwKicnFBY4BAT5AJQwwGhV8u8bACKIv64LMOiU1tUm1XsDXYqbw1YuvRJsw1aMArpTU4mQg/QeIU5MLikoYGBhTgGzl8pICELsDyBYpAjoKyJ4DYqdD2BtA7CQI+whYTUiQM5B9A8hWSM5IBJrB+API1klCEk9HYkPtBQFul8zigpzESoUAYwKuJQOUpFaUgGjn/ILKosz0jBIFR2AopSp45iXr6SgYGRiaMzCAwhyi+nMgOCwZxc4gxJrvMzDY7v////9uhJjXfgaGjUCdXDsRYhoWDAyC3AwMJ3YWJBYlgoWYgZgpLY2B4dNyBgbeSAYG4QtAPdHFacZGYHlGHicGBtZ7//9/VmNgYJ/MwPB3wv//vxf9//93MVDzHQaGA3kAFSFl7jXH0fsAAAFZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA1LjQuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CkzCJ1kAABcgSURBVHgB7daxDYAwEARBm9yI/qtEUIARdex8BzuX/BiOAAECBAgQIEAgJzD/4vt5d65cMAECBAgQIEAgKnCdax7RdtkECBAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAAECBAgQIECAAAECBFoCH+giB1TBDI5HAAAAAElFTkSuQmCC\"","import React, { useState, useEffect, useRef } from 'react';\r\nimport { useQuery } from '@apollo/react-hooks';\r\nimport { Affix, Layout, List, Typography } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport { ListingCard, ErrorBanner } from '../../lib/components';\r\nimport { LISTINGS } from '../../lib/graphql/queries';\r\nimport {\r\n  Listings as ListingsData,\r\n  ListingsVariables,\r\n} from '../../lib/graphql/queries/Listings/__generated__/Listings';\r\nimport { ListingsFilter } from '../../lib/graphql/globalTypes';\r\nimport {\r\n  ListingsFilters,\r\n  ListingsPagination,\r\n  ListingsSkeleton,\r\n} from './components';\r\nimport { RouteComponentProps } from 'react-router-dom';\r\n\r\nconst { Content } = Layout;\r\nconst { Text, Title, Paragraph } = Typography;\r\nconst PAGE_LIMIT = 8;\r\n\r\ninterface MatchParams {\r\n  location: string;\r\n}\r\n\r\nexport const Listings = ({ match }: RouteComponentProps<MatchParams>) => {\r\n  const locationRef = useRef(match.params.location);\r\n  const [filter, setFilter] = useState(ListingsFilter.PRICE_LOW_TO_HIGH);\r\n  const [page, setPage] = useState(1);\r\n  const { data, loading, error } = useQuery<ListingsData, ListingsVariables>(\r\n    LISTINGS,\r\n    {\r\n      skip: locationRef.current !== match.params.location && page !== 1,\r\n      variables: {\r\n        location: match.params.location,\r\n        filter,\r\n        limit: PAGE_LIMIT,\r\n        page,\r\n      },\r\n    },\r\n  );\r\n\r\n  useEffect(() => {\r\n    setPage(1);\r\n    locationRef.current = match.params.location;\r\n  }, [match.params.location]);\r\n  const listings = data ? data.listings : null;\r\n  const listingsRegion = listings ? listings.region : null;\r\n\r\n  const listingsSectionElement =\r\n    listings && listings.result.length ? (\r\n      <div>\r\n        <Affix offsetTop={64}>\r\n          <ListingsPagination\r\n            total={listings.total}\r\n            page={page}\r\n            limit={PAGE_LIMIT}\r\n            setPage={setPage}\r\n          />\r\n          <ListingsFilters filter={filter} setFilter={setFilter} />\r\n        </Affix>\r\n        <List\r\n          grid={{\r\n            gutter: 8,\r\n            lg: 4,\r\n            xs: 2,\r\n            sm: 1,\r\n          }}\r\n          dataSource={listings.result}\r\n          renderItem={(listing) => (\r\n            <List.Item>\r\n              <ListingCard listing={listing} />\r\n            </List.Item>\r\n          )}\r\n        />\r\n      </div>\r\n    ) : (\r\n      <div>\r\n        <Paragraph>\r\n          It appears that no listing have yet been created for\r\n          <Text mark>\"{listingsRegion}\"</Text>\r\n        </Paragraph>\r\n        <Paragraph>\r\n          Be the first person to create a{' '}\r\n          <Link to='/host'>listing in this area</Link>!\r\n        </Paragraph>\r\n      </div>\r\n    );\r\n  const listingsRegionElement = listingsRegion ? (\r\n    <Title level={3} className='listings__title'>\r\n      Results for \"{listingsRegion}\"\r\n    </Title>\r\n  ) : null;\r\n  if (loading) {\r\n    return (\r\n      <Content className='listings'>\r\n        <ListingsSkeleton />\r\n      </Content>\r\n    );\r\n  }\r\n  if (error) {\r\n    return (\r\n      <Content className='listings'>\r\n        <ErrorBanner description=\"We either  couldn't find anything matching your search or have encontered an error. If you are searching for a unique location, try searching again with more common keywords.\" />\r\n        <ListingsSkeleton />\r\n      </Content>\r\n    );\r\n  }\r\n  return (\r\n    <Content className='listings'>\r\n      {listingsRegionElement}\r\n      {listingsSectionElement}\r\n    </Content>\r\n  );\r\n};\r\n","import React from 'react';\r\n\r\nexport const NotFound = () => {\r\n  return (\r\n    <div>\r\n      <h2>NotFound</h2>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { useMutation } from '@apollo/react-hooks';\r\nimport { Avatar, Button, Card, Tag, Divider, Typography } from 'antd';\r\nimport { DISCONNECT_STRIPE } from '../../../../lib/graphql/mutations';\r\nimport { DisconnectStripe as DisconnectStripeData } from '../../../../lib/graphql/mutations/DisconnectStripe/__generated__/DisconnectStripe';\r\nimport { User as UserData } from '../../../../lib/graphql/queries/User/__generated__/User';\r\n\r\nimport {\r\n  displayErrorMessage,\r\n  displaySuccessNotification,\r\n  formatListingPrice,\r\n} from '../../../../lib/utils';\r\nimport { Viewer } from '../../../../lib/types';\r\n\r\ninterface Props {\r\n  user: UserData['user'];\r\n  viewer: Viewer;\r\n  viewerIsUser: boolean;\r\n  setViewer: (viewer: Viewer) => void;\r\n  handleUserRefetch: () => Promise<void>;\r\n}\r\n\r\nconst stripeAuthUrl = `https://connect.stripe.com/oauth/authorize?response_type=code&client_id=${process.env.REACT_APP_S_CLIENT_ID}&scope=read_write`;\r\nconst { Paragraph, Text, Title } = Typography;\r\n\r\nexport const UserProfile = ({\r\n  user,\r\n  viewer,\r\n  viewerIsUser,\r\n  setViewer,\r\n  handleUserRefetch,\r\n}: Props) => {\r\n  const [disconnectStripe, { loading }] = useMutation<DisconnectStripeData>(\r\n    DISCONNECT_STRIPE,\r\n    {\r\n      onCompleted: (data) => {\r\n        if (data && data.disconnectStripe) {\r\n          setViewer({ ...viewer, hasWallet: data.disconnectStripe.hasWallet });\r\n          displaySuccessNotification(\r\n            \"You've successfully disconnected from Stripe!\",\r\n            \"You'll have to reconnect with Stripe to continue to create listings.\",\r\n          );\r\n          handleUserRefetch();\r\n        }\r\n      },\r\n      onError: () => {\r\n        displayErrorMessage(\r\n          \"Sorry! We were'nt able to disconnect you from Stripe. Please try again later!\",\r\n        );\r\n      },\r\n    },\r\n  );\r\n\r\n  const redirectToStripe = () => {\r\n    window.location.href = stripeAuthUrl;\r\n  };\r\n  const additionalSection = user.hasWallet ? (\r\n    <>\r\n      <Paragraph>\r\n        <Tag color='green'>Stripe Registered</Tag>\r\n      </Paragraph>\r\n      <Paragraph>\r\n        Income Earned:{' '}\r\n        <Text strong>\r\n          {user.income ? formatListingPrice(user.income, true) : `$0`}\r\n        </Text>\r\n      </Paragraph>\r\n      <Button\r\n        type='primary'\r\n        className='user-profile__details-cta'\r\n        loading={loading}\r\n        onClick={() => disconnectStripe()}\r\n      >\r\n        Disconnect Stripe\r\n      </Button>\r\n      <Paragraph>\r\n        By disconnecting, you won't be able to receive{' '}\r\n        <Text strong>any further payments</Text>. This will prevent users from\r\n        booking listings that you might already created.\r\n      </Paragraph>\r\n    </>\r\n  ) : (\r\n    <>\r\n      <Paragraph>\r\n        Interested in becoming a TinyHouse host? Register with your Stripe\r\n        account!\r\n      </Paragraph>\r\n      <Button\r\n        type='primary'\r\n        className='user-profile__details-cta'\r\n        onClick={redirectToStripe}\r\n      >\r\n        Connect with Stripe\r\n      </Button>\r\n      <Paragraph type='secondary'>\r\n        TinyHouse uses{' '}\r\n        <a\r\n          href='https://stripe.com/en-US/connect'\r\n          target='_blank'\r\n          rel='noopener noreferrer'\r\n        >\r\n          Stripe\r\n        </a>{' '}\r\n        to help transfer your earnings in a secure and truster manner.\r\n      </Paragraph>\r\n    </>\r\n  );\r\n  const additionalDetailsSection = viewerIsUser ? (\r\n    <>\r\n      <Divider />\r\n      <div className='user-profile__details'>\r\n        <Title level={4}>Additional Details</Title>\r\n        {additionalSection}\r\n      </div>\r\n    </>\r\n  ) : null;\r\n  return (\r\n    <div className='user-profile'>\r\n      <Card className='user-profile__card'>\r\n        <div className='user-profile__avatar'>\r\n          <Avatar size={100} src={user.avatar} />\r\n        </div>\r\n        <Divider />\r\n        <div className='user-profile__details'>\r\n          <Title level={4}>Details</Title>\r\n          <Paragraph>\r\n            Name: <Text strong>{user.name}</Text>\r\n          </Paragraph>\r\n          <Paragraph>\r\n            Contact: <Text strong>{user.contact}</Text>\r\n          </Paragraph>\r\n        </div>\r\n        {additionalDetailsSection}\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { List, Typography } from 'antd';\r\nimport { ListingCard } from '../../../../lib/components/ListingCard';\r\nimport { User } from '../../../../lib/graphql/queries/User/__generated__/User';\r\n\r\ninterface Props {\r\n  userListings: User['user']['listings'];\r\n  listingsPage: number;\r\n  limit: number;\r\n  setListingsPage: (page: number) => void;\r\n}\r\n\r\nconst { Title, Paragraph } = Typography;\r\nexport const UserListings = ({\r\n  userListings,\r\n  listingsPage,\r\n  limit,\r\n  setListingsPage,\r\n}: Props) => {\r\n  const { total, result } = userListings;\r\n\r\n  const userListingsList = (\r\n    <List\r\n      grid={{\r\n        gutter: 8,\r\n        xs: 1,\r\n        sm: 2,\r\n        lg: 4,\r\n      }}\r\n      dataSource={result}\r\n      locale={{ emptyText: \"User dosen't have any listings yet!\" }}\r\n      pagination={{\r\n        position: 'top',\r\n        current: listingsPage,\r\n        total,\r\n        defaultPageSize: limit,\r\n        hideOnSinglePage: true,\r\n        showLessItems: true,\r\n        onChange: (page: number) => setListingsPage(page),\r\n      }}\r\n      renderItem={(userListing) => (\r\n        <List.Item>\r\n          <ListingCard listing={userListing} />\r\n        </List.Item>\r\n      )}\r\n    />\r\n  );\r\n\r\n  return (\r\n    <div className='user-listings'>\r\n      <Title level={4} className='user-listings__title'>\r\n        Listings\r\n      </Title>\r\n      <Paragraph className='user-listings__description'>\r\n        This section highlights the listings this user currently hosts and has\r\n        made available for bookings.\r\n      </Paragraph>\r\n      {userListingsList}\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { List, Typography } from 'antd';\r\nimport { ListingCard } from '../../../../lib/components';\r\nimport { User } from '../../../../lib/graphql/queries/User/__generated__/User';\r\n\r\ninterface Props {\r\n  userBookings: User['user']['bookings'];\r\n  bookingsPage: number;\r\n  limit: number;\r\n  setBookingsPage: (page: number) => void;\r\n}\r\n\r\nconst { Paragraph, Text, Title } = Typography;\r\n\r\nexport const UserBookings = ({\r\n  userBookings,\r\n  bookingsPage,\r\n  limit,\r\n  setBookingsPage,\r\n}: Props) => {\r\n  const total = userBookings ? userBookings.total : null;\r\n  const result = userBookings ? userBookings.result : null;\r\n\r\n  const userBookingsList = userBookings ? (\r\n    <List\r\n      grid={{\r\n        gutter: 8,\r\n        xs: 1,\r\n        sm: 2,\r\n        lg: 4,\r\n      }}\r\n      dataSource={result ? result : undefined}\r\n      locale={{ emptyText: \"You haven't made any bookings!\" }}\r\n      pagination={{\r\n        position: 'top',\r\n        current: bookingsPage,\r\n        total: total ? total : undefined,\r\n        defaultPageSize: limit,\r\n        hideOnSinglePage: true,\r\n        showLessItems: true,\r\n        onChange: (page: number) => setBookingsPage(page),\r\n      }}\r\n      renderItem={(userBooking) => {\r\n        const bookingHistory = (\r\n          <div className='user-bookings__booking-history'>\r\n            <div>\r\n              Check in: <Text strong>{userBooking.checkIn}</Text>\r\n            </div>\r\n            <div>\r\n              Check out: <Text strong>{userBooking.checkOut}</Text>\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n        return (\r\n          <List.Item>\r\n            {bookingHistory}\r\n            <ListingCard listing={userBooking.listing} />\r\n          </List.Item>\r\n        );\r\n      }}\r\n    />\r\n  ) : null;\r\n\r\n  const userBookingsElement = userBookingsList ? (\r\n    <div className='user-bookings'>\r\n      <Title level={4} className='user-bookings__title'>\r\n        Bookings\r\n      </Title>\r\n      <Paragraph className='user-bookings__description'>\r\n        This section highlights the bookings you've made, and the\r\n        check-in/check-out dates associated with said bookings.\r\n      </Paragraph>\r\n      {userBookingsList}\r\n    </div>\r\n  ) : null;\r\n\r\n  return userBookingsElement;\r\n};\r\n","import React, { useState } from 'react';\r\nimport { RouteComponentProps } from 'react-router-dom';\r\nimport { useQuery } from '@apollo/react-hooks';\r\nimport { Col, Layout, Row } from 'antd';\r\nimport { USER } from '../../lib/graphql/queries';\r\nimport {\r\n  User as UserData,\r\n  UserVariables,\r\n} from '../../lib/graphql/queries/User/__generated__/User';\r\nimport { ErrorBanner, PageSkeleton } from '../../lib/components';\r\nimport { Viewer } from '../../lib/types';\r\nimport { UserBookings, UserListings, UserProfile } from './components';\r\n\r\ninterface Props {\r\n  viewer: Viewer;\r\n  setViewer: (viewer: Viewer) => void;\r\n}\r\n\r\ninterface MatchParams {\r\n  id: string;\r\n}\r\n\r\nconst { Content } = Layout;\r\nconst PAGE_LIMIT = 4;\r\n\r\nexport const User = ({\r\n  viewer,\r\n  setViewer,\r\n  match,\r\n}: Props & RouteComponentProps<MatchParams>) => {\r\n  const [listingsPage, setListingsPage] = useState(1);\r\n  const [bookingsPage, setBookingsPage] = useState(1);\r\n\r\n  const { data, loading, error, refetch } = useQuery<UserData, UserVariables>(\r\n    USER,\r\n    {\r\n      variables: {\r\n        id: match.params.id,\r\n        bookingsPage,\r\n        listingsPage,\r\n        limit: PAGE_LIMIT,\r\n      },\r\n    },\r\n  );\r\n\r\n  const handleUserRefetch = async () => {\r\n    await refetch();\r\n  };\r\n\r\n  const stripeError = new URL(window.location.href).searchParams.get(\r\n    'stripe_error',\r\n  );\r\n  const stripeErrorBanner = stripeError ? (\r\n    <ErrorBanner description='We had an issue connecting with Stripe. Please try again soon.' />\r\n  ) : null;\r\n\r\n  if (loading) {\r\n    return (\r\n      <Content className='user'>\r\n        <PageSkeleton />\r\n      </Content>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Content className='user'>\r\n        <ErrorBanner description=\"This user may not exist or we've encountered an error. Please try again soon.\" />\r\n        <PageSkeleton />\r\n      </Content>\r\n    );\r\n  }\r\n\r\n  const user = data ? data.user : null;\r\n  const viewerIsUser = viewer.id === match.params.id;\r\n\r\n  const userListings = user ? user.listings : null;\r\n  const userBookings = user ? user.bookings : null;\r\n\r\n  const userProfileElement = user ? (\r\n    <UserProfile\r\n      user={user}\r\n      viewer={viewer}\r\n      viewerIsUser={viewerIsUser}\r\n      setViewer={setViewer}\r\n      handleUserRefetch={handleUserRefetch}\r\n    />\r\n  ) : null;\r\n\r\n  const userListingsElement = userListings ? (\r\n    <UserListings\r\n      userListings={userListings}\r\n      listingsPage={listingsPage}\r\n      limit={PAGE_LIMIT}\r\n      setListingsPage={setListingsPage}\r\n    />\r\n  ) : null;\r\n\r\n  const userBookingsElement = userListings ? (\r\n    <UserBookings\r\n      userBookings={userBookings}\r\n      bookingsPage={bookingsPage}\r\n      limit={PAGE_LIMIT}\r\n      setBookingsPage={setBookingsPage}\r\n    />\r\n  ) : null;\r\n\r\n  return (\r\n    <Content className='user'>\r\n      {stripeErrorBanner}\r\n      <Row gutter={12} justify='space-between'>\r\n        <Col xs={24}>{userProfileElement}</Col>\r\n        <Col xs={24}>\r\n          {userListingsElement}\r\n          {userBookingsElement}\r\n        </Col>\r\n      </Row>\r\n    </Content>\r\n  );\r\n};\r\n","import React, { useEffect, useRef } from 'react';\r\nimport { useApolloClient, useMutation } from '@apollo/react-hooks';\r\nimport { Card, Layout, Spin, Typography } from 'antd';\r\nimport { ErrorBanner } from '../../lib/components';\r\nimport {\r\n  displayErrorMessage,\r\n  displaySuccessNotification,\r\n} from '../../lib/utils';\r\nimport { AUTH_URL } from '../../lib/graphql/queries/';\r\nimport { LOG_IN } from '../../lib/graphql/mutations';\r\nimport { AuthUrl as AuthUrlData } from '../../lib/graphql/queries/AuthUrl/__generated__/AuthUrl';\r\nimport {\r\n  LogIn as LogInData,\r\n  LogInVariables,\r\n} from '../../lib/graphql/mutations/LogIn/__generated__/LogIn';\r\n//IMAGE ASSETS\r\nimport googleLogo from './assets/google_logo.jpg';\r\nimport { Viewer } from '../../lib/types';\r\nimport { Redirect } from 'react-router';\r\n\r\ninterface Props {\r\n  setViewer: (viewer: Viewer) => void;\r\n}\r\nconst { Content } = Layout;\r\nconst { Text, Title } = Typography;\r\nexport const Login = ({ setViewer }: Props) => {\r\n  const client = useApolloClient();\r\n  const [logIn, { data: logInData, loading: logInLoading, error: logInError }] =\r\n    useMutation<LogInData, LogInVariables>(LOG_IN, {\r\n      onCompleted: (data) => {\r\n        if (data && data.logIn && data.logIn.token) {\r\n          setViewer(data.logIn);\r\n          sessionStorage.setItem('token', data.logIn.token);\r\n          displaySuccessNotification(\"You've successfully logged in!\");\r\n        }\r\n      },\r\n    });\r\n  const logInRef = useRef(logIn);\r\n  useEffect(() => {\r\n    const code = new URL(window.location.href).searchParams.get('code');\r\n\r\n    if (code) {\r\n      logInRef.current({\r\n        variables: {\r\n          input: { code },\r\n        },\r\n      });\r\n    }\r\n  }, []);\r\n  const handleAuthorize = async () => {\r\n    try {\r\n      const { data } = await client.query<AuthUrlData>({\r\n        query: AUTH_URL,\r\n      });\r\n      window.location.href = data.authUrl;\r\n    } catch (err) {\r\n      displayErrorMessage(\r\n        \"Sorry! We weren't able to log you in. Please try again later!\",\r\n      );\r\n    }\r\n  };\r\n\r\n  if (logInLoading) {\r\n    return (\r\n      <Content className='log-in'>\r\n        <Spin size='large' tip='Logging you in...' />\r\n      </Content>\r\n    );\r\n  }\r\n  if (logInData && logInData.logIn) {\r\n    const { id: viewerId } = logInData.logIn;\r\n    return <Redirect to={`/user/${viewerId}`} />;\r\n  }\r\n  const logInErrorBannerElement = logInError ? (\r\n    <ErrorBanner description=\"Sorry! We weren't able to log you in. Please try again later!\" />\r\n  ) : null;\r\n  return (\r\n    <Content className='log-in'>\r\n      {logInErrorBannerElement}\r\n      <Card className='log-in-card'>\r\n        <div className='log-in-card__intro'>\r\n          <Title level={3} className='log-in-card__intro-title'>\r\n            <span role='img' aria-label='wave'></span>\r\n          </Title>\r\n          <Title level={3} className='log-in-card__intro-title'>\r\n            Log in to TinyHouse!\r\n          </Title>\r\n          <Text>Sign in with Google to start booking available rentals</Text>\r\n        </div>\r\n        <button\r\n          className='log-in-card__google-button'\r\n          onClick={handleAuthorize}\r\n        >\r\n          <img\r\n            alt='Google Logo'\r\n            className='log-in-card__google-button-logo'\r\n            src={googleLogo}\r\n          />\r\n          <span className='log-in-card__google-button-text'>\r\n            Sign in with Google\r\n          </span>\r\n        </button>\r\n        <Text type='secondary'>\r\n          Note: By signing in, you'll be redirected to the Google consent form\r\n          to sign in with your Google account.\r\n        </Text>\r\n      </Card>\r\n    </Content>\r\n  );\r\n};\r\n","export default \"data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAABuCAYAAAApmU3FAAABYWlDQ1BrQ0dDb2xvclNwYWNlRGlzcGxheVAzAAAokWNgYFJJLCjIYWFgYMjNKykKcndSiIiMUmB/yMAOhLwMYgwKicnFBY4BAT5AJQwwGhV8u8bACKIv64LMOiU1tUm1XsDXYqbw1YuvRJsw1aMArpTU4mQg/QeIU5MLikoYGBhTgGzl8pICELsDyBYpAjoKyJ4DYqdD2BtA7CQI+whYTUiQM5B9A8hWSM5IBJrB+API1klCEk9HYkPtBQFul8zigpzESoUAYwKuJQOUpFaUgGjn/ILKosz0jBIFR2AopSp45iXr6SgYGRiaMzCAwhyi+nMgOCwZxc4gxJrvMzDY7v////9uhJjXfgaGjUCdXDsRYhoWDAyC3AwMJ3YWJBYlgoWYgZgpLY2B4dNyBgbeSAYG4QtAPdHFacZGYHlGHicGBtZ7//9/VmNgYJ/MwPB3wv//vxf9//93MVDzHQaGA3kAFSFl7jXH0fsAAAFZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA1LjQuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CkzCJ1kAAA0cSURBVHgB7Vx7jFTVGf/duTM7M/uY2Sf7gJVdwApGFB81WBUqUBVBbTSY1rRqk6axatOmWlOb9o+mxsTIH7W2tknV1KYvFKNi6zuIBFFBEVAERZSFXYF978575s7cft+dHd1ldx67d+aeuXJOdl733nPOd36/+33n+75z7io6FchiRwS2OOwotZQ5jYAkz8Z3giRPkmdjBGwsutQ8SZ6NEbCx6FLzJHk2RsDGokvNk+TZGAEbiy41T5JnYwRsLLrUPEmejRGwsehS8yR5NkbAxqJLzZPk2RgBG4suNU+SZ2MEbCy61DxJno0RsLHoUvMkeTZGwMaiS82zMXlOu8quaxq0oQHEu7uQOP45kqEgUqGA8cljcni8cFRWo2JWC1xt7XA1zYLq80NxVdh1yJPkthV5yeAoYoc+Rui9nYh8tA+xrk+JsCD0VArgXfv00nX6TkVRFH4jFlUoDgccNT642+bAPXc+ar6xHJ6Fi4lgzyRA7HRAscOzCokTxzDyyn8xum0zaVkP9IRmEKM46d5jggopRLCeTAL0qVRUwN15OvyXXYGaZavgrK0rpIVyu2ZLWZOnjQxh+PmnMfziJmj9JwDVCUVViwKiriUMTXW1zkHdmutRt/rbUNzuorRtUSPlSZ6eSmLk1ecx+NQ/jTkNpGEKmb9SlLQ2JuFddDaabr4VlWctKUU3pWiz/MhjE9n76EMIvLmVTCL9kbZZUfRE3HBwGtZ9H/XX3Vg0DS+h7OVFXnjfbhx/6H7EjxwWY8KMeVGD79KVmPXDn8LZ0FhC7E03XT7P5wXf3oae+36FeM8RMcQxluSVKk6XYbLZQSr3Yo1NyoNC4M0tOPb7+5CKRAzw8lxe0tN6PA7/5WtRu+a6kvZTjMaFkxfa8+6XxJnxJDNPZ2c+MyFE5rMAtPRYFL7LrkTLHXfD4a0soIbYS4SSl+g9jhMPP4BUODQzjRuL3dhjdJCbz/FbJoPCDghrUYoI4fDC8FbJLGYrBnErVqeJo+yMHYow8lLRCBG3HjFKbzkqphdfGe49ZVJUfz28ZyxC1eLzjBSY6q+FSpkUzrQkA5QqC4wgTlmY0O6diFJmJjk6nL5JTiJRj8XgW3kVWm7/hZFWswNxLKOwIH3gib+j7/E/k7ZMgzhOf5FGOVvaUH/NDahZugyu5tb8WFM9zoEOv/wcRja/iCQF/19oKBHnX3UVmm9j4myVLhMTKsSPdqHrntuRCowaHl5+9EmZ2DS6XPB9ay0aKA5zUcJ5JiV+9DB6H/8Lgm9RHElm179qDZpZ49y2Io6HLoC8lI6eB36L0a0vFWwueQWBTSI7EqxtZgtrb/8/HoE2PIiW2+6i0MR2xBnkWT7nJYf30krAVnIiaGmG/31PnrwyE+dqbkPbnb+hFNZis7wZ9dlkNv3gNmNuLDixXZSei9tIdveruP180Vqi7yXULqdYagV5gHTr6JToz1rIrLED0vbzXxeNuAl9TSOMmFCvTH5YSl4qcgxa73aa51yoOV9Bw7UOOGk1RqcVnknFiNd0NN3yY3jPPHvSaXmAYLQSBG3wLYq7+qlLh0GYe66Cxusc8MxX0gSO+y9ovGRTc+kq1JJDIcvUCFhLXt92mmK+7JJNplpLGrjWgZoLxyY/JpBjOF8tGr9zS8He6NTD+2of/RLJEo+TTWYqcJDXeCb2xLsWaO7zLXeg7gpKDJPjl4om4Fu2EhVz5k68Vv6agIBl3mYq/BkF2MOTyWNxWNtICyvPUqDWOTDyeiXFX1dPEFT+mIyAheR1kzWMk+Jlzxuy41LRoqH55nNoj8m8ydIWcGQ0nMKmt6PQcnmxBbST6xKV7NXl53nQXGuZ4ZpSHMvISwY/o/nuJJM5lUjJFJyzFhPJMxMtENHx9BsRRGN6SUI4Y0qmt9PbnESe2G2EM0NoKtDzHNOjtIEoX0TObTgqKLb7Wp7Wsp/m0M1TQW8EcKnCuGhCx1AwvcUwuySlP2OZ3utasAA0GXEnraW1l37kJnpgv3gocKqQx5NZMkJDHgsHcgFHplVx+XNdIfwca3SEtE90sUbzOKAb28mcb8DpOLAAkvM1VOLz0fipQh6lwzgllo4JcqOqG0TThtgyL8Z2esEyWqN5nIXjEKGQm5U23KZiA4Jhyd09p13dfC8KLhaRR4rnrKah5mOPzKWeoF1kRwTDkr97j0u8abeMPKVqDiGS30PTUxqU0QP50ctxBYWKmMnLWMjI0W7mFF/nrxJPnmVxnqOqk/YFUeCcQWCKTz7npM1Bh/oPoGNeDG7nNPa3jLXnVBW0N6qIkTc4nTiP+x6g2C1MQX6+ei7KNTT6LLvvp0Aqfcg68rxzxlJjrH2TKcxAsTnix8beEO6c/ynOal6UVfBsJ5oI1Htvph1k0yysqb/71yj2H9HgzJEIYq3zuB2or8lIPM2Oini5ZeSp1QtoxaAReuQ4cTcRHRYipCvYGPDhtXAV4skEXju0eUbksda4ZzAfHR9Oobs/Cc5b5ipMXrVXQWv9xDHkqlOqc3lELV63istHDzHSivhJy+YuhTYkaU48ONSAV0LVhk66HU68fXQn9vd+VDwB8rS0bV8Mo+H8JjNJ5J3WpKLGaxl0WSW3VAJnw0UkSLpLY34j4nZFvVg/2ID9MTcq6Dcf5xgqqkWxYe8TSJAWlroEaCXitd0xOCZb80ldp2j325lzyyBOIMksJU+tuwBKZTtUCsR55tsU9OHhoXoMplSwBo4vLgrq9534EE++/9T4wyX5/tyOKLr7CjeZS+adguQprhpar1uBIS2FR4brsHHUB957lG32UOlp2Gc/fA6bP9lSEtK40V2H4tj0ViSnk5LpnJ2aeS1OdNKrHIqlmscD1hpX4uFQJ7aFPXCOmclsQChjXulj7/wNL338crbLZnx87+EE/vBMELE4m+r8zdBmeyw/212Qec3fmvkrLCfPW9OBBXMvp3i9sLnMQRuWEnTtY+88jn/v2YBwglcnzJetHySwfmMQIyE9r4fJvbHWtTWouGjR9GNP89JO3YLl+s83+LULV+PdoztwIthLQXl+EZhAvuuf+uBp7Dn2PtYtvh7nzz536hHlOdo90oNnPnwWW3dXQoteRcTxanj+PRMauZkrl3jIyyxARfPIUKzTwp4S2nZ4Ox7a/ifDs8yYx0IGpVH6TKU48YI55+OSjouxcNYZqPVkX//jrE4wHsTB/oPY2bMLO4++g6HIEFyUiUF4CZJ9N1A6lZ49V7JbAo08zI5mJ+69yW/EeIXIacE1Ah40GTeqv+54FC989DKlwaa3F4S1UEtq9Ag5ZTq8deis78S8uk60+lpRoboozIghEAtgMDKIw4Nd6B7twUh0xAg7WNNZk41ChOmJViR7vws9vJAIZPdpotfLQTkfuXtdDZYunJ6c6U5K9i6WvGAsiPu3rsf+EwdIE2bmfqdokTdJrxQtJbF3ysQk6XuSwhGFIiGVCOZjHDtOqeEKmcyUF9rANdBHlo0hzYFMusSJz7VLPfjRlVWZQ+XyucVyh2X8yKvd1bh96a1o87eRU8J3/fQLE+MibeIkNmsVk8Q3gsfpMTQ6o2lTEsfd6RSoKFE4mzZAbfoPRb7kEOnpeZiT2+fNd+GmFeX5fLpQ8hi7lpoW/Ozin6CxssHwKvmYmZKVpJyNEgw6aaj/dThb6Wlddw/iCRWLTnPhjmur07vRctYXc1KYw3LycD8ZOIQH3/gjPh/9nOYtgXMLzYPxqA8d6q24++olwjfWnozTuN9izeY4QbCgYT5+ufwunEnLQHGN/pMDewoWF3aE2FSe096Oe66fXc7EGciUjeZleArHw9jw/pN49eBmxMhrnKkjk2mv0E92cni+XLHgMnxvyY2oqijPeW7ceMR6m+MEmfR1z7G9RlC+v/eA4SWyJ1mKwt4qx47N1bNww+J1+Ob8jMdZit6K2mb5ksfD5OWgbV3b8b8DL+DI0BHD/c94j2ZgYPPImsamuY7ixGXzLsGaM1ajvrLeTLNW1y1v8jJoRBJR7Op5Dzu6d9Ay0X4j4GaN4UwLB+r5PEwmKR0PcuynwOPyoLOuAxe2fx0XnbYUjVUNma7s9GkP8sYj2hfqp/zmXmOtr2u4C33BPiNGZIKM11iGhEniOYzjQA/FgI1VTWijDExH7VycO/sczPbNtmw+HS9/Eb/bj7zxgw/FQximtFd/aABh+h4iZyeUCBmXcJBe6fKiiUhrrG5ElasSXvr9FSr2Ju8rRMRMhlI+cd5MpD/V6whPj53qBJgZvyTPDHqC60ryBBNgpntJnhn0BNeV5AkmwEz3kjwz6AmuK8kTTICZ7iV5ZtATXFeSJ5gAM91L8sygJ7iuJE8wAWa6l+SZQU9wXUmeYALMdC/JM4Oe4LqSPMEEmOlekmcGPcF1JXmCCTDTvSTPDHqC60ryBBNgpntJnhn0BNeV5AkmwEz3kjwz6AmuK8kTTICZ7iV5ZtATXFeSJ5gAM91L8sygJ7iuJE8wAWa6/z+IolhxMOy6twAAAABJRU5ErkJggg==\"","import React, { useEffect, useRef } from 'react';\r\nimport { Redirect, RouteComponentProps } from 'react-router-dom';\r\nimport { useMutation } from '@apollo/react-hooks';\r\nimport { Layout, Spin } from 'antd';\r\nimport { CONNECT_STRIPE } from '../../lib/graphql/mutations';\r\nimport {\r\n  ConnectStripe as ConnectStripeData,\r\n  ConnectStripeVariables,\r\n} from '../../lib/graphql/mutations/ConnectStripe/__generated__/ConnectStripe';\r\nimport { Viewer } from '../../lib/types';\r\nimport { displaySuccessNotification } from '../../lib/utils';\r\n\r\ninterface Props {\r\n  viewer: Viewer;\r\n  setViewer: (viewer: Viewer) => void;\r\n}\r\nconst { Content } = Layout;\r\n\r\nexport const Stripe = ({\r\n  viewer,\r\n  setViewer,\r\n  history,\r\n}: Props & RouteComponentProps) => {\r\n  const [connectStripe, { data, loading, error }] = useMutation<\r\n    ConnectStripeData,\r\n    ConnectStripeVariables\r\n  >(CONNECT_STRIPE, {\r\n    onCompleted: (data) => {\r\n      if (data && data.connectStripe) {\r\n        setViewer({ ...viewer, hasWallet: data.connectStripe.hasWallet });\r\n        displaySuccessNotification(\r\n          \"You've successfully connected your Stripe Account!\",\r\n          'You can now begin to create Listings in the Host page.',\r\n        );\r\n      }\r\n    },\r\n  });\r\n  const connectStripeRef = useRef(connectStripe);\r\n\r\n  useEffect(() => {\r\n    const code = new URL(window.location.href).searchParams.get('code');\r\n    if (code) {\r\n      connectStripeRef.current({\r\n        variables: {\r\n          input: { code },\r\n        },\r\n      });\r\n    } else {\r\n      history.replace('/login');\r\n    }\r\n  }, [history]);\r\n\r\n  if (data) {\r\n    return <Redirect to={`/user/${viewer.id}`} />;\r\n  }\r\n  if (loading) {\r\n    return (\r\n      <Content className='stripe'>\r\n        <Spin tip='Connecting your Stripe account...' />\r\n      </Content>\r\n    );\r\n  }\r\n  if (error) {\r\n    return <Redirect to={`/user/${viewer.id}?stripe_error=true`} />;\r\n  }\r\n  return null;\r\n};\r\n","import React, { useState, useEffect, useRef } from 'react';\nimport { render } from 'react-dom';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport ApolloClient from 'apollo-boost';\nimport { ApolloProvider, useMutation } from 'react-apollo';\nimport { StripeProvider, Elements } from 'react-stripe-elements';\nimport reportWebVitals from './reportWebVitals';\nimport { Affix, Layout, Spin } from 'antd';\nimport {\n  AppHeader,\n  Home,\n  Host,\n  Listing,\n  Listings,\n  NotFound,\n  User,\n  Login,\n  Stripe,\n} from '../src/sections/';\nimport { Viewer } from './lib/types';\nimport { LOG_IN } from './lib/graphql/mutations';\nimport {\n  LogIn as LogInData,\n  LogInVariables,\n} from './lib/graphql/mutations/LogIn/__generated__/LogIn';\nimport './styles/index.css';\nimport { AppHeaderSkeleton, ErrorBanner } from './lib/components';\n\nconst client = new ApolloClient({\n  uri: '/api',\n  request: async (operation) => {\n    const token = sessionStorage.getItem('token');\n    operation.setContext({\n      headers: {\n        'X-CSRF-TOKEN': token || '',\n      },\n    });\n  },\n});\n\nconst initialViewer: Viewer = {\n  id: null,\n  token: null,\n  avatar: null,\n  hasWallet: null,\n  didRequest: false,\n};\n\nconst App = () => {\n  const [viewer, setViewer] = useState<Viewer>(initialViewer);\n  const [logIn, { error }] = useMutation<LogInData, LogInVariables>(LOG_IN, {\n    onCompleted: (data) => {\n      if (data && data.logIn) {\n        setViewer(data.logIn);\n        if (data.logIn.token) {\n          sessionStorage.setItem('token', data.logIn.token);\n        } else {\n          sessionStorage.removeItem('token');\n        }\n      }\n    },\n  });\n  const logInRef = useRef(logIn);\n  useEffect(() => {\n    logInRef.current();\n  }, []);\n  if (!viewer.didRequest && !error) {\n    return (\n      <Layout className='app-skeleton'>\n        <AppHeaderSkeleton />\n        <div className='app-skeleton__spin-section'>\n          <Spin tip='Launching TinyHouse' size='large' />\n        </div>\n      </Layout>\n    );\n  }\n  const logInErrorBannerElement = error ? (\n    <ErrorBanner description=\"We weren't able verify if you were logged in. Please try again later.\" />\n  ) : null;\n  return (\n    <StripeProvider apiKey={process.env.REACT_APP_S_PUBLISHABLE_KEY as string}>\n      <Router>\n        <Layout id='app'>\n          {logInErrorBannerElement}\n          <Affix offsetTop={0} className='app__affix-header'>\n            <AppHeader viewer={viewer} setViewer={setViewer} />\n          </Affix>\n          <Switch>\n            <Route exact path='/' component={Home} />\n            <Route\n              exact\n              path='/host'\n              render={(props) => <Host {...props} viewer={viewer} />}\n            />\n            <Route exact path='/listings/:location?' component={Listings} />\n            <Route\n              exact\n              path='/listing/:id'\n              render={(props) => (\n                <Elements>\n                  <Listing {...props} viewer={viewer} />\n                </Elements>\n              )}\n            />\n            <Route\n              exact\n              path='/login'\n              render={(props) => <Login {...props} setViewer={setViewer} />}\n            />\n            <Route\n              exact\n              path='/user/:id'\n              render={(props) => (\n                <User {...props} viewer={viewer} setViewer={setViewer} />\n              )}\n            />\n            <Route\n              exact\n              path='/stripe'\n              render={(props) => (\n                <Stripe {...props} viewer={viewer} setViewer={setViewer} />\n              )}\n            />\n            <Route component={NotFound} />\n          </Switch>\n        </Layout>\n      </Router>\n    </StripeProvider>\n  );\n};\nrender(\n  <ApolloProvider client={client}>\n    <App />\n  </ApolloProvider>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}